{"version":3,"file":"urbex.min.js","sources":["../lib/environment.ts","../node_modules/cache-clock/dist/module/index.esm.js","../lib/utils.ts","../lib/core/error.ts","../lib/core/api/http.ts","../lib/core/api/xhr.ts","../lib/core/constants.ts","../lib/core/api/conclude.ts","../lib/core/api/request-api.ts","../lib/debug.ts","../lib/core/headers.ts","../lib/core/pipelines.ts","../lib/core/transformers.ts","../lib/constants.ts","../lib/core/url.ts","../lib/core/request-config.ts","../lib/core/urbex.ts","../lib/urbex.ts","../index.ts"],"sourcesContent":["export type UrbexContext = \"browser\" | \"node\";\r\n\r\nexport class Environment {\r\n    private _context: UrbexContext;\r\n\r\n    constructor() {\r\n        this._context = this.detectContext();\r\n    }\r\n\r\n    private detectContext(): UrbexContext {\r\n        if (typeof window !== \"undefined\" && typeof window.document !== \"undefined\") {\r\n            return \"browser\";\r\n        }\r\n\r\n        if (typeof process !== \"undefined\" && process.versions && process.versions.node) {\r\n            return \"node\";\r\n        }\r\n\r\n        throw new Error(\"Unable to detect environment context.\");\r\n    }\r\n\r\n    private nodeStrictCheck(): void {\r\n        if (this.isBrowser) {\r\n            throw new Error(\"This method is not available in the browser environment.\");\r\n        }\r\n    }\r\n\r\n    get process(): NodeJS.Process {\r\n        if (this.isNode) {\r\n            return process;\r\n        }\r\n\r\n        return {} as NodeJS.Process;\r\n    }\r\n\r\n    get context(): UrbexContext {\r\n        return this._context;\r\n    }\r\n\r\n    get isBrowser(): boolean {\r\n        return this.context === \"browser\";\r\n    }\r\n\r\n    get isNode(): boolean {\r\n        return this.context === \"node\";\r\n    }\r\n\r\n    get isDevelopment(): boolean {\r\n        this.nodeStrictCheck();\r\n\r\n        return process.env.NODE_ENV === \"development\";\r\n    }\r\n\r\n    get isProduction(): boolean {\r\n        this.nodeStrictCheck();\r\n\r\n        return process.env.NODE_ENV === \"production\";\r\n    }\r\n}\r\n\r\nexport const environment = new Environment();\r\n","/**\n    * https://github.com/itsmichaelbtw/cache-clock#readme\n    * (c) 2022 Michael Cizek\n    * @license MIT\n    */\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\nfunction isPureObject(value) {\n  return _typeof(value) === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isNegative(value) {\n  return value < 0;\n}\nfunction absolute(value) {\n  return Math.abs(value);\n}\nfunction shallowMerge(target, source) {\n  return Object.assign({}, target, source);\n}\nfunction stringify(value) {\n  if (isUndefined(value)) {\n    return \"\";\n  }\n  if (isString(value)) {\n    return value;\n  }\n  return JSON.stringify(value);\n}\n\nfunction getCurrentEnvironment() {\n  if (typeof window !== \"undefined\" && typeof window.document !== \"undefined\") {\n    return \"browser\";\n  }\n  if (typeof process !== \"undefined\" && process.versions && process.versions.node) {\n    return \"node\";\n  }\n  return \"unknown\";\n}\nvar environment = getCurrentEnvironment();\n\nvar colors = {\n  red: \"\\x1b[31m\",\n  yellow: \"\\x1b[33m\",\n  green: \"\\x1b[32m\",\n  lightblue: \"\\x1b[36m\"\n};\nvar globals = {\n  reset: \"\\x1b[0m\",\n  bright: \"\\x1b[1m\"\n};\nfunction debug(message, color) {\n  if (debug.DEBUG) {\n    var prefix = \"[CACHE-CLOCK] \";\n    var colorizedMessage = \"\".concat(colors[color]).concat(prefix).concat(message).concat(globals.reset);\n    console.log(colorizedMessage);\n  }\n}\ndebug.DEBUG = false;\n\nfunction hash(input) {\n  if (typeof input !== \"string\") {\n    input = JSON.stringify(input);\n  }\n  var numberHash = input.split(\"\").reduce(function (a, b) {\n    a = (a << 5) - a + a * 24 + b.charCodeAt(0);\n    a |= 0;\n    return a;\n  }, 0);\n  return numberHash.toString(32);\n}\n\nfunction getBestTimeProvider() {\n  try {\n    // future: use either perf_hooks for node js or performance for browser\n    // fallback on Date.now() for now\n    return Date;\n  } catch (error) {\n    return Date;\n  }\n}\nvar timeProvider = getBestTimeProvider();\n\nvar _Symbol$iterator;\nvar DEFAULT_CLOCK_OPTIONS = {\n  maxItems: 1000,\n  ttl: Infinity,\n  interval: 15 * 1000,\n  debug: false,\n  autoStart: true\n};\nfunction invokeTimeout(callback, delay) {\n  var timeout = environment === \"node\" ? global.setTimeout : window.setTimeout;\n  return timeout.call(null, callback, delay);\n}\nfunction parseCacheOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaultOptions = arguments.length > 1 ? arguments[1] : undefined;\n  if (!isPureObject(options)) {\n    debug(\"Invalid options passed to cache clock, using defaults.\", \"yellow\");\n    return defaultOptions;\n  }\n  var opts = shallowMerge(defaultOptions, options);\n  if (isNumber(opts.maxItems) && isNegative(opts.maxItems)) {\n    opts.maxItems = absolute(opts.maxItems);\n  } else if (!isNumber(opts.maxItems)) {\n    opts.maxItems = defaultOptions.maxItems;\n  }\n  if (isNumber(opts.ttl) && isNegative(opts.ttl)) {\n    opts.ttl = absolute(opts.ttl);\n  } else if (!isNumber(opts.maxItems)) {\n    opts.ttl = defaultOptions.ttl;\n  }\n  if (isNumber(opts.interval) && isNegative(opts.interval)) {\n    opts.interval = absolute(opts.interval);\n  } else if (!isNumber(opts.interval)) {\n    opts.interval = defaultOptions.interval;\n  }\n  if (opts.onExpire && !isFunction(opts.onExpire)) {\n    opts.onExpire = undefined;\n  }\n  if (opts.maxItems === 0) {\n    opts.maxItems = 1;\n  }\n  return opts;\n}\nfunction createEntityKey(key, isHashed) {\n  if (isHashed) {\n    return key;\n  }\n  return hash(stringify(key));\n}\n_Symbol$iterator = Symbol.iterator;\nvar CacheClock = /*#__PURE__*/function () {\n  /**\n   * Create a new instance of the cache clock. You can\n   * pass a configuration object to set the default\n   * options for all cacheable items.\n   *\n   * ```js\n   * const clock = new CacheClock({ ttl: 5 * 60 * 1000 });\n   * ```\n   */\n  function CacheClock(options) {\n    _classCallCheck(this, CacheClock);\n    _defineProperty(this, \"$birth\", void 0);\n    _defineProperty(this, \"$cache\", void 0);\n    _defineProperty(this, \"$clock\", void 0);\n    _defineProperty(this, \"$options\", void 0);\n    this.$birth = timeProvider.now();\n    this.$cache = new Map();\n    this.configure(options);\n    if (this.options.autoStart) {\n      this.start();\n    }\n  }\n  _createClass(CacheClock, [{\n    key: \"prune\",\n    value: function prune() {\n      this.stop();\n      var now = timeProvider.now();\n      var _iterator = _createForOfIteratorHelper(this),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var value = _step.value;\n          if (value.e <= now) {\n            var _entry = this.del(value.k, true);\n            if (this.options.onExpire && _entry) {\n              this.options.onExpire(_entry);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.start();\n    }\n\n    /**\n     * Create a new instance of the cache clock. You can\n     * pass a configuration object to set the default\n     * options for all cacheable items.\n     *\n     * ```js\n     * const clock = new CacheClock({ ttl: 5 * 60 * 1000 });\n     * ```\n     */\n  }, {\n    key: \"age\",\n    get:\n    /**\n     * The age of the cache clock in `ms`.\n     */\n    function get() {\n      return timeProvider.now() - this.$birth;\n    }\n\n    /**\n     * The number of items in the cache.\n     */\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.$cache.size;\n    }\n\n    /**\n     * Global configuration that applies to all cacheable items.\n     */\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this.$options;\n    }\n\n    /**\n     * Whether the clock is currently running.\n     */\n  }, {\n    key: \"isRunning\",\n    get: function get() {\n      return !!this.$clock;\n    }\n\n    /**\n     * Configure the cache clock. Use this method to change the global configuration\n     * that applies to all cacheable items.\n     *\n     * Items that have been cached prior to updating the configuration will not be\n     * affected.\n     *\n     * ```js\n     * const clock = new CacheClock();\n     * clock.configure({ ttl: 5 * 60 * 1000 });\n     * ```\n     */\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.$options = parseCacheOptions(options, this.options || DEFAULT_CLOCK_OPTIONS);\n      debug.DEBUG = this.options.debug;\n      if (this.options.interval < DEFAULT_CLOCK_OPTIONS.interval) {\n        debug(\"A cache clock interval less than 15 seconds is not recommended.\", \"yellow\");\n      }\n    }\n\n    /**\n     * Start the cache clock. This is automatically called when the cache clock is created.\n     * You should only need to call this method if you have stopped the cache clock manually.\n     *\n     * This will spawn a new clock with the full timeout interval. This does not resume the\n     * clock from where it left off.\n     */\n  }, {\n    key: \"start\",\n    value: function start() {\n      if (this.options.interval === Infinity || this.options.interval === 0) {\n        debug(\"Disabling the clock due to an unsupported interval.\", \"yellow\");\n        return;\n      }\n      if (this.$clock) {\n        debug(\"Cache clock is already running. Unable to start.\", \"red\");\n        return;\n      }\n      this.$clock = invokeTimeout(this.prune.bind(this), this.options.interval);\n    }\n\n    /**\n     * Manually stop the cache clock. This will disable the automatic expiration of items. This does\n     * not prevent items from being checked for expiration.\n     */\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (!this.$clock) {\n        debug(\"Cache clock is not running. Unable to stop.\", \"red\");\n        return;\n      }\n      clearTimeout(this.$clock);\n      this.$clock = null;\n    }\n\n    /**\n     * Add an item to the cache. Optionally, you can specify a time to live for the item.\n     *\n     * If the cache is full, the oldest item will be removed.\n     */\n  }, {\n    key: \"set\",\n    value: function set(key, value, options) {\n      var hashedKey = createEntityKey(key, false);\n      var _parseCacheOptions = parseCacheOptions(options, this.options),\n        ttl = _parseCacheOptions.ttl;\n      var clockItem = {\n        k: hashedKey,\n        v: value,\n        t: ttl,\n        e: timeProvider.now() + ttl\n      };\n      if (this.has(hashedKey, true)) {\n        this.del(hashedKey);\n      }\n      if (this.size >= this.options.maxItems) {\n        debug(\"The cache is full, removing oldest item.\", \"yellow\");\n        this.del(this.$cache.keys().next().value, true);\n      }\n      this.$cache.set(hashedKey, clockItem);\n      return this;\n    }\n\n    /**\n     * Retrieve an item from the cache. This returns the internal\n     * `CacheEntry` used to store the value.\n     */\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var isHashed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var hashedKey = createEntityKey(key, isHashed);\n      var item = this.$cache.get(hashedKey);\n      if (isUndefined(item)) {\n        return undefined;\n      }\n      if (item.e < timeProvider.now()) {\n        debug(\"Cache item \".concat(key, \" has expired.\"), \"red\");\n        this.del(key, true);\n        return undefined;\n      }\n      return item;\n    }\n\n    /**\n     * Deletes an item from the cache. Returns the deleted item\n     * if it exists.\n     */\n  }, {\n    key: \"del\",\n    value: function del(key) {\n      var isHashed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var hashedKey = createEntityKey(key, isHashed);\n      var item = this.$cache.get(hashedKey);\n      if (isUndefined(item)) {\n        return undefined;\n      }\n      debug(\"Deleting cache item \".concat(key, \".\"), \"green\");\n      this.$cache[\"delete\"](hashedKey);\n      return item;\n    }\n\n    /**\n     * Returns a boolean indicating whether the cache contains an item.\n     */\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      var isHashed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var hashedKey = createEntityKey(key, isHashed);\n      return this.$cache.has(hashedKey);\n    }\n\n    /**\n     * Wipe the cache clean.\n     */\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.$cache.clear();\n    }\n\n    /**\n     * Create a cache key based on the input.\n     */\n  }, {\n    key: \"getCacheKey\",\n    value: function getCacheKey(input) {\n      return createEntityKey(input, false);\n    }\n  }, {\n    key: _Symbol$iterator,\n    value: function value() {\n      return this.$cache.values();\n    }\n  }], [{\n    key: \"create\",\n    value: function create() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return new CacheClock(options);\n    }\n  }]);\n  return CacheClock;\n}();\n\nexport { CacheClock };\n//# sourceMappingURL=index.esm.js.map\n","import type { IObject } from \"./types\";\r\n\r\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer I) => void\r\n    ? I\r\n    : never;\r\n\r\n/**\r\n * Check the Object.prototype.toString.call() of a value. Strips the [object ] part.\r\n */\r\nexport function toStringCall(value: any): string {\r\n    const string = Object.prototype.toString.call(value);\r\n    return lowercase(string.substring(8, string.length - 1));\r\n}\r\n\r\nexport function hasOwnProperty<X extends {}, Y extends PropertyKey>(\r\n    obj: X,\r\n    prop: Y\r\n): obj is X & Record<Y, unknown> {\r\n    return obj.hasOwnProperty.call(obj, prop);\r\n}\r\n\r\nexport function isUndefined(value: unknown): value is undefined {\r\n    return typeof value === \"undefined\";\r\n}\r\n\r\nexport function isNegative(value: number): boolean {\r\n    return value < 0;\r\n}\r\n\r\nexport function isPositive(value: number): boolean {\r\n    return value > 0;\r\n}\r\n\r\nexport function absolute(value: number): number {\r\n    return Math.abs(value);\r\n}\r\n\r\nexport function round(value: number, precision: number): number {\r\n    const multiplier = Math.pow(10, precision);\r\n    return Math.round(value * multiplier) / multiplier;\r\n}\r\n\r\nexport function isArray<T>(value: unknown): value is T[] {\r\n    return Array.isArray(value);\r\n}\r\n\r\nexport function isObject(value: unknown): value is object {\r\n    return typeof value === \"object\" && value !== null && !isArray(value);\r\n}\r\n\r\nexport function isString(value: unknown): value is string {\r\n    return typeof value === \"string\";\r\n}\r\n\r\nexport function isFunction(value: unknown): value is Function {\r\n    return typeof value === \"function\";\r\n}\r\n\r\nexport function isEmpty(value: any): boolean {\r\n    if (isArray(value)) {\r\n        return value.length === 0;\r\n    } else if (isObject(value)) {\r\n        return Object.keys(value).length === 0;\r\n    } else {\r\n        return !value;\r\n    }\r\n}\r\n\r\nexport function capitalize(value: string): string {\r\n    value = String(value);\r\n    return value.charAt(0).toUpperCase() + value.slice(1);\r\n}\r\n\r\nexport function uppercase<T extends string>(value: T): T {\r\n    return String(value).toUpperCase() as T;\r\n}\r\n\r\nexport function lowercase(value: string): string {\r\n    return String(value).toLowerCase();\r\n}\r\n\r\nexport function clone<T>(value: T): T {\r\n    if (isArray(value)) {\r\n        return value.slice() as T;\r\n    } else if (isObject(value)) {\r\n        return Object.assign({}, value) as T;\r\n    } else {\r\n        return value;\r\n    }\r\n}\r\n\r\nexport function merge<P = any, T = any>(defaultOptions: P, options: T): P & T {\r\n    return Object.assign({}, defaultOptions, options);\r\n}\r\n\r\nexport function deepMerge<T extends IObject[]>(...objects: T): UnionToIntersection<T[any]> {\r\n    return objects.reduce((acc, obj) => {\r\n        if (isArray(obj)) {\r\n            return acc.concat(obj);\r\n        }\r\n\r\n        for (const key in obj) {\r\n            if (isArray(acc[key]) && isArray(obj[key])) {\r\n                acc[key] = acc[key].concat(obj[key]);\r\n            } else if (isObject(acc[key]) && isObject(obj[key])) {\r\n                acc[key] = deepMerge(acc[key], obj[key]);\r\n            } else {\r\n                acc[key] = obj[key];\r\n            }\r\n        }\r\n\r\n        return acc;\r\n    }, {});\r\n}\r\n\r\nexport function keys<T extends IObject>(obj: T): (keyof T)[] {\r\n    return Object.keys(obj) as (keyof T)[];\r\n}\r\n\r\nexport function values<T extends IObject>(obj: T): T[keyof T][] {\r\n    return keys(obj).map((key) => obj[key]);\r\n}\r\n\r\nexport function forEach<T>(obj: T, fn: (key: keyof T, value: T[keyof T], obj: T) => void): void {\r\n    if (isUndefined(obj)) {\r\n        return;\r\n    }\r\n\r\n    if (isArray(obj)) {\r\n        obj.forEach(function (value, index) {\r\n            fn.call(null, index, value, obj);\r\n        });\r\n    } else {\r\n        for (const key in obj) {\r\n            fn.call(null, key, obj[key], obj);\r\n        }\r\n    }\r\n}\r\n\r\nexport function extractMatchFromRegExp(\r\n    value: string | null,\r\n    regexp: RegExp,\r\n    group: number = 0,\r\n    defaultValue: any = null\r\n): string | null {\r\n    if (value) {\r\n        const matches = regexp.exec(value);\r\n\r\n        if (isArray(matches) && !isEmpty(matches)) {\r\n            return matches[group];\r\n        }\r\n    }\r\n\r\n    return defaultValue;\r\n}\r\n\r\nexport function startsWithReplacer(value: string, search: string, replace: string): string {\r\n    if (value.startsWith(search)) {\r\n        return value.replace(search, replace);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function stringReplacer(value: string, search: string | RegExp, replace: string): string {\r\n    return value.replace(search, replace);\r\n}\r\n\r\nexport function ensureLeadingToken(token: string, value: string): string {\r\n    if (argumentIsNotProvided(value)) {\r\n        return \"\";\r\n    }\r\n\r\n    if (value.startsWith(token)) {\r\n        return value;\r\n    }\r\n\r\n    return `${token}${value}`;\r\n}\r\n\r\nexport function ensureTrailingToken(token: string, value: string): string {\r\n    if (argumentIsNotProvided(value)) {\r\n        return \"\";\r\n    }\r\n\r\n    if (value.endsWith(token)) {\r\n        return value;\r\n    }\r\n\r\n    return `${value}${token}`;\r\n}\r\n\r\nexport function argumentIsNotProvided(value: unknown): boolean {\r\n    return value === undefined || value === null;\r\n}\r\n\r\nexport function combineStrings(delimiter: string = \"\", ...strings: string[]): string {\r\n    return strings.filter((string) => !isEmpty(string)).join(delimiter);\r\n}\r\n\r\nexport function replaceObjectProperty<T extends IObject, K extends keyof T>(\r\n    obj: T,\r\n    key: K,\r\n    value: T[K]\r\n): void {\r\n    Object.assign(obj, { [key]: value });\r\n}\r\n\r\nexport function safeStringify(value: any): string {\r\n    try {\r\n        return JSON.stringify(value);\r\n    } catch (error) {\r\n        return \"\";\r\n    }\r\n}\r\n\r\nexport function createEmptyScheme<T>(keys: string[]): T {\r\n    return keys.reduce((acc, key) => {\r\n        const keys = key.split(\".\");\r\n\r\n        if (keys.length === 1) {\r\n            acc[key] = null;\r\n        } else {\r\n            const [object, ...nestedKeys] = keys;\r\n\r\n            if (!acc[object]) {\r\n                acc[object] = {};\r\n            }\r\n\r\n            const nestedObject = createEmptyScheme(nestedKeys);\r\n            acc[object] = merge(acc[object], nestedObject);\r\n        }\r\n\r\n        return acc;\r\n    }, {} as T);\r\n}\r\n","import type { InternalConfiguration, UrbexErrorType, UrbexResponse } from \"../exportable-types\";\r\n\r\nexport class UrbexError extends Error implements UrbexErrorType {\r\n    status: number;\r\n    request: any;\r\n    config: InternalConfiguration<any>;\r\n    response: UrbexResponse<any>;\r\n\r\n    constructor(error: any) {\r\n        if (!(error instanceof Error)) {\r\n            error = new Error(error);\r\n        }\r\n\r\n        super(error.message);\r\n        this.name = error.name;\r\n        this.stack = error.stack;\r\n    }\r\n\r\n    static create(\r\n        error: any,\r\n        config: InternalConfiguration<any>,\r\n        response: UrbexResponse<any>\r\n    ): UrbexError {\r\n        const urbexError = new UrbexError(error);\r\n\r\n        urbexError.config = config;\r\n        urbexError.response = response;\r\n        urbexError.status = response.status;\r\n        urbexError.request = config;\r\n\r\n        return urbexError;\r\n    }\r\n}\r\n\r\nexport class TimeoutError extends UrbexError {\r\n    constructor(timeout: number) {\r\n        const error = new Error(`Request timed out after ${timeout}ms.`);\r\n\r\n        super(error);\r\n    }\r\n}\r\n","import http from \"http\";\r\nimport https from \"https\";\r\nimport url from \"url\";\r\nimport zlib from \"zlib\";\r\nimport util from \"util\";\r\nimport stream from \"stream\";\r\n\r\nimport type { InternalConfiguration } from \"../../exportable-types\";\r\nimport type { DispatchedResponse, UrbexRequestApi, DispatchedAPIRequest } from \"../../types\";\r\n\r\nimport {\r\n    combineStrings,\r\n    argumentIsNotProvided,\r\n    toStringCall,\r\n    isString,\r\n    ensureLeadingToken,\r\n    ensureTrailingToken,\r\n    isFunction\r\n} from \"../../utils\";\r\nimport { UrbexError, TimeoutError } from \"../error\";\r\n\r\nexport class NodeRequest implements UrbexRequestApi {\r\n    private getAgentFromProtocol(protocol: string): typeof http | typeof https {\r\n        if (protocol === \"https\") {\r\n            return https;\r\n        }\r\n\r\n        return http;\r\n    }\r\n\r\n    private handleDataProtocolRequest(config: InternalConfiguration): DispatchedAPIRequest {\r\n        return new Promise((resolve, reject) => {\r\n            resolve({\r\n                data: null,\r\n                request: null,\r\n                response: null\r\n            });\r\n        });\r\n    }\r\n\r\n    public async send(config: InternalConfiguration): DispatchedAPIRequest {\r\n        return new Promise((resolve, reject) => {\r\n            const agent = this.getAgentFromProtocol(config.url.protocol);\r\n\r\n            if (config.url.protocol === \"data\") {\r\n                return this.handleDataProtocolRequest(config);\r\n            }\r\n\r\n            if (!config.headers.has(\"Accept-Encoding\")) {\r\n                config.headers.set({ \"Accept-Encoding\": \"gzip, deflate, br\" });\r\n            }\r\n\r\n            if (config.url.params && !isString(config.url.params)) {\r\n                config.url.params = config.url.params.toString();\r\n            } else {\r\n                config.url.params = \"\";\r\n            }\r\n\r\n            function onError(error: any): void {\r\n                const err = new UrbexError(error);\r\n                err.config = config;\r\n                err.request = request;\r\n                return reject(err);\r\n            }\r\n\r\n            const options: https.RequestOptions | url.URL = {\r\n                protocol: ensureTrailingToken(\":\", config.url.protocol),\r\n                href: config.url.href,\r\n                hostname: config.url.hostname,\r\n                path: combineStrings(\"\", config.url.endpoint, config.url.params),\r\n                headers: config.headers.get(),\r\n                timeout: config.timeout\r\n            };\r\n\r\n            if (config.url.port) {\r\n                const port = parseInt(config.url.port.toString());\r\n\r\n                if (!isNaN(port)) {\r\n                    options.port = port;\r\n                }\r\n            }\r\n\r\n            const request = agent.request(options);\r\n\r\n            request.on(\"response\", (response) => {\r\n                if (response.destroyed || request.destroyed) {\r\n                    return onError(new UrbexError(\"Request was destroyed.\"));\r\n                }\r\n\r\n                if (config.responseType === \"stream\") {\r\n                    return resolve({\r\n                        data: response,\r\n                        request: request,\r\n                        response: response\r\n                    });\r\n                }\r\n\r\n                const chunks: Buffer[] = [];\r\n\r\n                response.on(\"data\", chunks.push.bind(chunks));\r\n\r\n                response.on(\"error\", onError);\r\n\r\n                response.on(\"close\", () => {\r\n                    if (response.complete) {\r\n                        return;\r\n                    }\r\n\r\n                    response.destroy();\r\n                    request.destroy();\r\n                    return onError(new UrbexError(\"Request was closed prematurely.\"));\r\n                });\r\n\r\n                response.on(\"end\", () => {\r\n                    const body = Buffer.concat(chunks);\r\n\r\n                    resolve({ data: body, request: request, response: response });\r\n                });\r\n            });\r\n\r\n            if (config.timeout) {\r\n                request.setTimeout(config.timeout, () => {\r\n                    reject(new TimeoutError(config.timeout));\r\n                });\r\n            }\r\n\r\n            request.on(\"error\", onError);\r\n            request.end(config.data ?? undefined);\r\n        });\r\n    }\r\n}\r\n\r\nconst br = isFunction(zlib?.brotliDecompress) ? util.promisify(zlib.brotliDecompress) : null;\r\nconst gzip = isFunction(zlib?.gunzip) ? util.promisify(zlib.gunzip) : null;\r\nconst deflate = isFunction(zlib?.inflate) ? util.promisify(zlib.inflate) : null;\r\nconst compress = isFunction(zlib?.createUnzip) ? util.promisify(zlib.createUnzip) : null;\r\n\r\nexport const DECODERS = { br, gzip, deflate, compress };\r\n","import type { InternalConfiguration } from \"../../exportable-types\";\r\nimport type { DispatchedResponse, UrbexRequestApi, DispatchedAPIRequest } from \"../../types\";\r\n\r\nimport { createEmptyScheme } from \"../../utils\";\r\n\r\nexport class BrowserRequest implements UrbexRequestApi {\r\n    public send(config: InternalConfiguration): DispatchedAPIRequest {\r\n        return new Promise(() => {});\r\n    }\r\n}\r\n\r\nexport const DECODERS = createEmptyScheme([\"br\", \"gzip\", \"deflate\", \"compress\"]);\r\n","import type { InternalConfiguration, URIComponent, UrbexResponse } from \"../exportable-types\";\r\nimport type { PipelineExecutorsManager } from \"../types\";\r\n\r\nimport { environment } from \"../environment\";\r\nimport { merge, createEmptyScheme } from \"../utils\";\r\n\r\nexport const DEFAULT_BROWSER_HEADERS = {\r\n    \"Content-Type\": \"application/json\"\r\n};\r\n\r\nexport const DEFAULT_NODE_HEADERS = merge(DEFAULT_BROWSER_HEADERS, {\r\n    \"User-Agent\": `UrbexClient (Node.js ${environment.process.version}; ${environment.process.platform})`\r\n});\r\n\r\nexport const DEFAULT_URI_COMPONENT = createEmptyScheme<URIComponent>([\r\n    \"endpoint\",\r\n    \"hostname\",\r\n    \"href\",\r\n    \"origin\",\r\n    \"params\",\r\n    \"port\",\r\n    \"protocol\",\r\n    \"urlMount\"\r\n]);\r\n\r\nexport const DEFAULT_PIPELINE_EXECUTORS: PipelineExecutorsManager = {\r\n    request: [],\r\n    response: []\r\n};\r\n\r\nexport const DEFAULT_CLIENT_OPTIONS: InternalConfiguration = {\r\n    url: merge(DEFAULT_URI_COMPONENT, {\r\n        protocol: \"http\",\r\n        urlMount: \"/api\"\r\n    }),\r\n    timeout: 0,\r\n    method: \"GET\",\r\n    headers: null,\r\n    data: null,\r\n    cache: {},\r\n    pipelines: DEFAULT_PIPELINE_EXECUTORS,\r\n    maxContentLength: Infinity,\r\n    responseType: \"json\",\r\n    responseEncoding: \"utf8\"\r\n};\r\n\r\nexport const DEFAULT_URBEX_RESPONSE = createEmptyScheme<UrbexResponse>([\r\n    \"status\",\r\n    \"statusText\",\r\n    \"headers\",\r\n    \"data\",\r\n    \"config\",\r\n    \"request\",\r\n    \"response\",\r\n    \"duration\",\r\n    \"timestamp\",\r\n    \"cache.key\",\r\n    \"cache.hit\",\r\n    \"cache.pulled\",\r\n    \"cache.stored\"\r\n]);\r\n","import type { InternalConfiguration, UrbexResponse } from \"../../exportable-types\";\r\nimport type { DispatchedResponse, RequestAPIResponse } from \"../../types\";\r\n\r\nimport { deepMerge, clone, isEmpty } from \"../../utils\";\r\nimport { DEFAULT_URBEX_RESPONSE } from \"../constants\";\r\n\r\ntype ConcludeRequest = (config: RequestAPIResponse) => Promise<DispatchedResponse>;\r\n\r\nexport async function startRequest(config: InternalConfiguration): Promise<ConcludeRequest> {\r\n    const startTime = Date.now();\r\n    const timestamp = new Date().toISOString();\r\n    const clonedResponse = clone(DEFAULT_URBEX_RESPONSE);\r\n\r\n    if (!isEmpty(config.pipelines.request)) {\r\n        // loop over the request pipelines\r\n        // each pipeline is a Promise that returns a new config\r\n        // each new config is passed to the next pipeline\r\n        // the very last config will mutate the `config` parameter\r\n\r\n        for (const pipeline of config.pipelines.request) {\r\n            config = await pipeline.execute(config);\r\n\r\n            if (config === null) {\r\n                throw new Error(\r\n                    \"Urbex expected a valid configuration to be returned from a request pipeline, but got null.\"\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    // all of the request pipelines are executed here\r\n\r\n    return async function concludeRequest(result): Promise<DispatchedResponse> {\r\n        const incomingResult = result;\r\n\r\n        // all of the response pipelines are executed here\r\n\r\n        let response = deepMerge(clonedResponse, {\r\n            data: incomingResult.data,\r\n            config: config,\r\n            request: incomingResult.request,\r\n            response: incomingResult.response,\r\n            timestamp: timestamp,\r\n            responseType: config.responseType\r\n        });\r\n\r\n        if (incomingResult.response) {\r\n            response.headers = incomingResult.response.headers;\r\n            response.status = incomingResult.response.statusCode;\r\n            response.statusText = incomingResult.response.statusMessage;\r\n        }\r\n\r\n        if (!isEmpty(config.pipelines.response)) {\r\n            for (const pipeline of config.pipelines.response) {\r\n                response = await pipeline.execute(response);\r\n            }\r\n        }\r\n\r\n        const endTime = Date.now();\r\n        const duration = endTime - startTime;\r\n\r\n        response.duration = duration;\r\n        return Promise.resolve(response);\r\n    };\r\n}\r\n","import { CacheClock } from \"cache-clock\";\r\n\r\nimport type { UrbexContext } from \"../../environment\";\r\nimport type { InternalConfiguration, UrbexResponse } from \"../../exportable-types\";\r\nimport type { DispatchedResponse, UrbexRequestApi } from \"../../types\";\r\n\r\nimport { NodeRequest } from \"./http\";\r\nimport { BrowserRequest } from \"./xhr\";\r\nimport { startRequest } from \"./conclude\";\r\nimport { environment } from \"../../environment\";\r\nimport { UrbexError } from \"../error\";\r\nimport { UrbexHeaders } from \"../headers\";\r\nimport { clone } from \"../../utils\";\r\n\r\n// here all of the interceptors are checked\r\n// cache clocks are checked here\r\n// the response is created here\r\n\r\nexport class RequestApi {\r\n    /**\r\n     * The internal api that is used to send requests.\r\n     */\r\n    protected $api: UrbexRequestApi;\r\n    /**\r\n     * An isolated cache module that is used to cache requests.\r\n     */\r\n    protected $cache: CacheClock;\r\n\r\n    constructor() {\r\n        this.register(environment.context);\r\n\r\n        this.$cache = new CacheClock({\r\n            autoStart: false,\r\n            debug: false\r\n        });\r\n    }\r\n\r\n    private register(context: UrbexContext) {\r\n        if (context === \"browser\") {\r\n            this.$api = new BrowserRequest();\r\n            return;\r\n        }\r\n\r\n        if (context === \"node\") {\r\n            this.$api = new NodeRequest();\r\n            return;\r\n        }\r\n\r\n        throw new Error(\r\n            `Urbex expected a valid context to register a request api, but got ${context}.`\r\n        );\r\n    }\r\n\r\n    protected async dispatchRequest(config: InternalConfiguration): DispatchedResponse {\r\n        try {\r\n            const configuration = clone(config);\r\n            const concludeRequest = await startRequest(configuration);\r\n\r\n            const isCacheEnabled = configuration.cache && configuration.cache.enabled;\r\n\r\n            // for some odd reason, result.cache had this weird mutation\r\n            // issue even when CLONING the result, so I had to do this\r\n            // to get it to work properly\r\n\r\n            const cache: UrbexResponse[\"cache\"] = {\r\n                key: null,\r\n                hit: false,\r\n                pulled: false,\r\n                stored: false\r\n            };\r\n\r\n            if (isCacheEnabled) {\r\n                const cacheKey = this.$cache.getCacheKey(configuration.url.href);\r\n                const entity = this.$cache.get(cacheKey, true);\r\n\r\n                cache.hit = true;\r\n\r\n                if (entity) {\r\n                    const result = await concludeRequest({ data: entity.v });\r\n\r\n                    cache.key = cacheKey;\r\n                    cache.pulled = true;\r\n                    result.cache = cache;\r\n\r\n                    return Promise.resolve(result);\r\n                }\r\n            }\r\n\r\n            const response = await this.$api.send(configuration);\r\n            const result = await concludeRequest(response);\r\n\r\n            if (isCacheEnabled) {\r\n                this.$cache.set(configuration.url.href, response.data);\r\n\r\n                cache.key = this.$cache.getCacheKey(configuration.url.href);\r\n                cache.stored = true;\r\n            }\r\n\r\n            result.cache = cache;\r\n\r\n            return Promise.resolve(result);\r\n        } catch (error: any) {\r\n            return Promise.reject(new UrbexError(error));\r\n        }\r\n    }\r\n}\r\n","type DebugType = \"log\" | \"warn\" | \"error\";\r\n\r\nexport function debug(type: DebugType, message: string): void {\r\n    console[type](`[urbex] ${message}`);\r\n}\r\n","import type { Headers, HeaderValues, NormalizedHeaders } from \"../types\";\r\n\r\nimport {\r\n    isArray,\r\n    isObject,\r\n    isUndefined,\r\n    hasOwnProperty,\r\n    forEach,\r\n    merge,\r\n    capitalize,\r\n    argumentIsNotProvided,\r\n    isEmpty\r\n} from \"../utils\";\r\nimport { debug } from \"../debug\";\r\nimport { environment } from \"../environment\";\r\nimport { DEFAULT_BROWSER_HEADERS, DEFAULT_NODE_HEADERS } from \"./constants\";\r\n\r\nfunction parseHeaderKey(key: string): string {\r\n    if (key) {\r\n        return formatHeaderKey(key.toLowerCase()).trim();\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nfunction parseHeaderValue(value: HeaderValues): string {\r\n    if (isUndefined(value) || value === false || value === null) {\r\n        return undefined;\r\n    }\r\n\r\n    if (isArray(value)) {\r\n        return value.join(\", \");\r\n    }\r\n\r\n    if (isObject(value)) {\r\n        return JSON.stringify(value);\r\n    }\r\n\r\n    return String(value);\r\n}\r\n\r\nfunction normalizeHeaders(headers: Headers): NormalizedHeaders {\r\n    const newHeaders: NormalizedHeaders = {};\r\n\r\n    forEach(headers, (key, value) => {\r\n        if (isUndefined(key) || isUndefined(value)) {\r\n            return;\r\n        }\r\n\r\n        const normalizedKey = parseHeaderKey(key);\r\n        const normalizedValue = parseHeaderValue(value);\r\n\r\n        if (normalizedKey && normalizedValue) {\r\n            newHeaders[normalizedKey] = normalizedValue;\r\n        }\r\n    });\r\n\r\n    return newHeaders;\r\n}\r\n\r\nfunction formatHeaderKey(key: string): string {\r\n    return key.split(\"-\").map(capitalize).join(\"-\");\r\n}\r\n\r\nexport class UrbexHeaders {\r\n    protected $headers: NormalizedHeaders = {};\r\n\r\n    constructor(headers?: Headers, withDefaults: boolean = true) {\r\n        if (withDefaults) {\r\n            this.set(this.defaults, false);\r\n        }\r\n\r\n        if (isObject(headers) && !isEmpty(headers)) {\r\n            this.set(headers, withDefaults);\r\n        }\r\n    }\r\n\r\n    static construct(headers: Headers = {}, withDefaults: boolean = true): UrbexHeaders {\r\n        return new UrbexHeaders(headers, withDefaults);\r\n    }\r\n\r\n    get defaults(): typeof DEFAULT_NODE_HEADERS | typeof DEFAULT_BROWSER_HEADERS {\r\n        return environment.isNode ? DEFAULT_NODE_HEADERS : DEFAULT_BROWSER_HEADERS;\r\n    }\r\n\r\n    /**\r\n     * Set a header configuration to use for all requests made by the current\r\n     * instance of the Urbex client\r\n     *\r\n     * Setting a configuration will merge with any existing configuration.\r\n     * Optionally, you can pass a boolean to clear the existing configuration\r\n     *\r\n     * @param headers The headers to set\r\n     * @param forceMerge Whether to merge the headers with the existing configuration\r\n     */\r\n    public set(headers?: Headers, forceMerge: boolean = true): Headers {\r\n        if (!isObject(headers)) {\r\n            debug(\"error\", `Attempted to set headers with a non-object value: ${typeof headers}`);\r\n            return headers;\r\n        }\r\n\r\n        const normalizedHeaders = this.normalize(headers);\r\n        const merged = forceMerge ? merge(this.$headers, normalizedHeaders) : normalizedHeaders;\r\n\r\n        return (this.$headers = merged);\r\n    }\r\n    /**\r\n     * Get the current headers object\r\n     */\r\n    public get(): NormalizedHeaders {\r\n        return this.$headers;\r\n    }\r\n\r\n    /**\r\n     * Whether the headers object contains a given header\r\n     */\r\n    public has(key: string): boolean {\r\n        return hasOwnProperty(this.$headers, key);\r\n    }\r\n\r\n    /**\r\n     * Delete a header from the headers object\r\n     */\r\n    public delete(key: string): void {\r\n        forEach(this.$headers, (headerKey) => {\r\n            if (headerKey.toLowerCase() === key.toLowerCase()) {\r\n                delete this.$headers[headerKey];\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     *\r\n     * Clear all headers that have been set\r\n     * @param empty Whether to empty the headers object\r\n     *\r\n     */\r\n    public clear(empty: boolean = false): void {\r\n        this.$headers = {};\r\n\r\n        if (!empty) {\r\n            this.set(this.defaults, false);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Normalize an incoming headers object\r\n     */\r\n\r\n    public normalize(headers: Headers): NormalizedHeaders {\r\n        if (argumentIsNotProvided(headers) || !isObject(headers)) {\r\n            return {};\r\n        }\r\n\r\n        return normalizeHeaders(headers);\r\n    }\r\n}\r\n","type ReturnType<T> = T extends (config: any) => infer R ? R : any;\r\ntype Parameters<T extends Function> = T extends (config: infer P) => any ? P : never;\r\n\r\nexport class PipelineExecutor<T extends Function> {\r\n    private $executor: T = null;\r\n\r\n    constructor(executor: T) {\r\n        this.$executor = executor;\r\n    }\r\n\r\n    public execute(config: Parameters<T>): ReturnType<T> {\r\n        return this.$executor(config);\r\n    }\r\n}\r\n","import type { RequestExecutor, ResponseExecutor } from \"../exportable-types\";\r\n\r\nimport { PipelineExecutor } from \"./pipelines\";\r\nimport { environment } from \"../environment\";\r\nimport { DECODERS } from \"./api/http\";\r\n\r\nexport const transformRequestData = new PipelineExecutor<RequestExecutor>((config) => {\r\n    return Promise.resolve(config);\r\n});\r\n\r\nexport const decodeResponseData = new PipelineExecutor<ResponseExecutor>(async (response) => {\r\n    const responseType = response.config.responseType;\r\n\r\n    if (responseType === \"raw\" || responseType === \"stream\") {\r\n        return Promise.resolve(response);\r\n    }\r\n\r\n    const encoding = response.headers[\"content-encoding\"];\r\n\r\n    if (Buffer.isBuffer(response.data) && response.data.length) {\r\n        if (encoding) {\r\n            const decoder = DECODERS[encoding];\r\n\r\n            if (decoder) {\r\n                const decompressed = await decoder(response.data);\r\n                const maxContentLength = response.config.maxContentLength;\r\n\r\n                if (maxContentLength > -1 || maxContentLength !== Infinity) {\r\n                    if (decompressed.length > maxContentLength) {\r\n                        throw new Error(\r\n                            `Content length of ${decompressed.length} exceeds the maxContentLength of ${maxContentLength}`\r\n                        );\r\n                    }\r\n                }\r\n\r\n                response.data = decompressed;\r\n            }\r\n        }\r\n    } else {\r\n        response.data = null;\r\n    }\r\n\r\n    return Promise.resolve(response);\r\n});\r\n\r\nexport const transformResponseData = new PipelineExecutor<ResponseExecutor>((response) => {\r\n    const responseType = response.config.responseType;\r\n\r\n    if (responseType === \"raw\" || responseType === \"arraybuffer\" || responseType === \"stream\") {\r\n        return Promise.resolve(response);\r\n    }\r\n\r\n    if (response.data) {\r\n        // https://stackoverflow.com/questions/24356713/node-js-readfile-error-with-utf8-encoded-file-on-windows\r\n\r\n        const { responseEncoding, responseType } = response.config;\r\n\r\n        const bufferString = response.data.toString(responseEncoding);\r\n\r\n        if (responseType === \"json\") {\r\n            response.data = JSON.parse(bufferString);\r\n        } else {\r\n            response.data = bufferString;\r\n        }\r\n    }\r\n\r\n    return Promise.resolve(response);\r\n});\r\n","import type { MethodsUpper } from \"./types\";\r\n\r\n// support for any protocols to be used with the uri component\r\n// currently only http and https are supported\r\n\r\n// regex to get the protocol from the uri component, can match anything\r\nexport const PROTOCOL_REGEXP = /^([a-z0-9]+):\\/\\//i;\r\nexport const HOSTNAME_REGEXP = /^(?:https?:\\/\\/)?(?:[^@\\/\\n]+@)?([^:\\/\\n]+)/i;\r\nexport const PORT_REGEXP = /:(\\d{2,5})$/;\r\n\r\nexport const URL_REGEXP =\r\n    /^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$/i;\r\n\r\nexport const URI_TEMPLATE_REGEXP_LEFT = \"[{][^{{]*\\\\b\";\r\nexport const URI_TEMPLATE_REGEXP_RIGHT = \"\\\\b[^{}]*[}]\";\r\n\r\nexport const METHODS = [\"PUT\", \"POST\", \"PATCH\", \"OPTIONS\", \"HEAD\", \"GET\", \"DELETE\"];\r\n","import type { UrbexURL, URIComponent } from \"../exportable-types\";\r\nimport type { SearchParams } from \"../types\";\r\n\r\nimport {\r\n    URL_REGEXP,\r\n    HOSTNAME_REGEXP,\r\n    PROTOCOL_REGEXP,\r\n    URI_TEMPLATE_REGEXP_LEFT,\r\n    URI_TEMPLATE_REGEXP_RIGHT\r\n} from \"../constants\";\r\nimport {\r\n    isObject,\r\n    isString,\r\n    extractMatchFromRegExp,\r\n    ensureLeadingToken,\r\n    stringReplacer,\r\n    argumentIsNotProvided,\r\n    combineStrings,\r\n    forEach,\r\n    merge,\r\n    isFunction,\r\n    isEmpty\r\n} from \"../utils\";\r\nimport { DEFAULT_URI_COMPONENT } from \"./constants\";\r\n\r\nexport type ParamSerializerType = \"string\" | \"object\" | \"URLSearchParams\";\r\n\r\n/**\r\n * Test if a url string has a valid protocol.\r\n *\r\n * Most likely going to deprecate this function.\r\n */\r\nexport function isProtocolURL(url: string): boolean {\r\n    return PROTOCOL_REGEXP.test(url);\r\n}\r\n\r\n/**\r\n * Test if a url string has a valid hostname.\r\n *\r\n * Most likely going to deprecate this function.\r\n */\r\nexport function isHostnameURL(url: string): boolean {\r\n    return HOSTNAME_REGEXP.test(url);\r\n}\r\n\r\n/**\r\n * Test if a url is valid\r\n */\r\nexport function isValidURL(url: string): boolean {\r\n    try {\r\n        new URL(url);\r\n\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function convertStringToURIComponent(input: string, urlMount: string = \"\"): URIComponent {\r\n    const url = new URL(input);\r\n\r\n    const protocol = stringReplacer(url.protocol, \":\", \"\") as string;\r\n    const port = url.port ? parseInt(url.port) : \"\";\r\n    const pathname = stringReplacer(url.pathname, urlMount, \"\");\r\n\r\n    return {\r\n        href: url.href,\r\n        origin: url.origin,\r\n        protocol: protocol,\r\n        hostname: url.hostname,\r\n        port: port,\r\n        endpoint: pathname,\r\n        params: url.search,\r\n        urlMount: urlMount\r\n    };\r\n}\r\n\r\n// turn this into its own package\r\nexport function convertURIComponentToString(input: Partial<URIComponent>): string {\r\n    let template = \"{protocol+://}{hostname}{:+port}{urlMount}{endpoint}{?+params}\";\r\n\r\n    function createRegexString(word: string): RegExp {\r\n        return new RegExp(`${URI_TEMPLATE_REGEXP_LEFT}${word}${URI_TEMPLATE_REGEXP_RIGHT}`, \"gi\");\r\n    }\r\n\r\n    if (argumentIsNotProvided(input) || isEmpty(input) || !isObject(input)) {\r\n        return \"\";\r\n    }\r\n\r\n    if (input.params) {\r\n        input.params = serializeParams(input.params);\r\n    }\r\n\r\n    forEach(input, (key, value) => {\r\n        const regex = createRegexString(key);\r\n\r\n        if (argumentIsNotProvided(value) || isEmpty(value)) {\r\n            template = stringReplacer(template, regex, \"\");\r\n        } else {\r\n            const match = extractMatchFromRegExp(template, regex, 0, \"\");\r\n            const templateValue = stringReplacer(match, key, value.toString())\r\n                .replace(/\\+/g, \"\")\r\n                .replace(/^\\{/, \"\")\r\n                .replace(/\\}$/, \"\");\r\n\r\n            template = stringReplacer(template, match, templateValue);\r\n        }\r\n    });\r\n\r\n    return template;\r\n}\r\n\r\nexport function parseURIIntoComponent(\r\n    component: UrbexURL,\r\n    allowEndpoints: boolean = true\r\n): Partial<URIComponent> {\r\n    if (isString(component)) {\r\n        if (isValidURL(component)) {\r\n            return convertStringToURIComponent(component);\r\n        } else if (allowEndpoints) {\r\n            return {\r\n                endpoint: ensureLeadingToken(\"/\", component)\r\n            };\r\n        } else {\r\n            throw new Error(\r\n                \"An invalid URL was provided. A valid URL string in the format of <scheme>://<hostname> must be passed when using `urbex.configure()`.\"\r\n            );\r\n        }\r\n    } else if (isObject(component)) {\r\n        const protocol = extractMatchFromRegExp(component.protocol, PROTOCOL_REGEXP, 0, \"http\");\r\n        const hostname = stringReplacer(\r\n            component.hostname,\r\n            new RegExp(`^${protocol}://`, \"gi\"),\r\n            \"\"\r\n        );\r\n\r\n        const endpoint = ensureLeadingToken(\"/\", component.endpoint);\r\n        const urlMount = ensureLeadingToken(\"/\", component.urlMount);\r\n\r\n        const buildableComponent = merge(component, {\r\n            protocol: protocol,\r\n            hostname: hostname,\r\n            endpoint: endpoint,\r\n            urlMount: urlMount\r\n        });\r\n\r\n        const componentAsString = convertURIComponentToString(buildableComponent);\r\n        const newComponent = convertStringToURIComponent(componentAsString, urlMount);\r\n\r\n        return newComponent;\r\n    } else {\r\n        throw new Error(\"Unable to parse the provided URI. Must be either a string or an object.\");\r\n    }\r\n}\r\n\r\nexport function serializeParams(\r\n    params: SearchParams,\r\n    serializerType: ParamSerializerType = \"string\"\r\n): Record<string, string> | string {\r\n    if (argumentIsNotProvided(params)) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const searchParams = new URLSearchParams(params);\r\n\r\n        if (serializerType === \"object\") {\r\n            const params = {};\r\n\r\n            searchParams.forEach((value, key) => {\r\n                params[key] = value;\r\n            });\r\n\r\n            return params;\r\n        }\r\n\r\n        return searchParams.toString();\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n}\r\n","import type { InternalConfiguration, UrbexConfig, URIComponent } from \"../exportable-types\";\r\n\r\nimport { UrbexHeaders } from \"./headers\";\r\nimport { transformRequestData, transformResponseData, decodeResponseData } from \"./transformers\";\r\nimport { environment } from \"../environment\";\r\nimport {\r\n    isObject,\r\n    merge,\r\n    deepMerge,\r\n    clone,\r\n    hasOwnProperty,\r\n    isString,\r\n    extractMatchFromRegExp,\r\n    uppercase,\r\n    argumentIsNotProvided,\r\n    isEmpty\r\n} from \"../utils\";\r\nimport { isValidURL, serializeParams, parseURIIntoComponent } from \"./url\";\r\nimport { PROTOCOL_REGEXP, HOSTNAME_REGEXP, METHODS } from \"../constants\";\r\nimport { DEFAULT_CLIENT_OPTIONS, DEFAULT_URI_COMPONENT } from \"./constants\";\r\n\r\nfunction determineAppropriateURI(): URIComponent {\r\n    const component = merge(DEFAULT_URI_COMPONENT, {\r\n        protocol: \"https\",\r\n        urlMount: \"/api\"\r\n    });\r\n\r\n    if (environment.isBrowser) {\r\n        const { protocol, hostname, port } = window.location;\r\n\r\n        Object.assign(component, {\r\n            protocol: protocol.replace(\":\", \"\"),\r\n            hostname: hostname,\r\n            port: port\r\n        });\r\n    } else if (environment.isNode) {\r\n        Object.assign(component, {\r\n            protocol: \"http\",\r\n            hostname: \"localhost\",\r\n            port: 3000\r\n        });\r\n    }\r\n\r\n    return component;\r\n}\r\n\r\nexport class RequestConfig {\r\n    private $config: InternalConfiguration;\r\n\r\n    constructor(config?: UrbexConfig) {\r\n        const component = parseURIIntoComponent(determineAppropriateURI());\r\n\r\n        this.$config = merge(DEFAULT_CLIENT_OPTIONS, {\r\n            url: component,\r\n            headers: new UrbexHeaders()\r\n        });\r\n\r\n        if (isObject(config) && !isEmpty(config)) {\r\n            this.set(this.createConfigurationObject(config, true));\r\n        }\r\n\r\n        this.$config.pipelines.request.unshift(transformRequestData);\r\n\r\n        if (environment.isNode) {\r\n            this.$config.pipelines.response.unshift(decodeResponseData, transformResponseData);\r\n        }\r\n    }\r\n\r\n    public defaultConfig(): InternalConfiguration {\r\n        return merge(DEFAULT_CLIENT_OPTIONS, {\r\n            url: parseURIIntoComponent(determineAppropriateURI()),\r\n            headers: new UrbexHeaders()\r\n        });\r\n    }\r\n\r\n    public createConfigurationObject(\r\n        config: UrbexConfig,\r\n        allowEndpoints: boolean\r\n    ): InternalConfiguration {\r\n        const parsed = this.parseIncomingConfig(config, allowEndpoints);\r\n        const merged = this.merge(parsed);\r\n\r\n        return merged;\r\n    }\r\n\r\n    public parseIncomingConfig(\r\n        config: UrbexConfig,\r\n        allowEndpoints: boolean\r\n    ): Partial<InternalConfiguration> {\r\n        if (argumentIsNotProvided(config) || !isObject(config)) {\r\n            throw new Error(\"The configuration must be an object with valid properties.\");\r\n        }\r\n\r\n        const configuration = clone(config);\r\n\r\n        if (hasOwnProperty(configuration, \"url\")) {\r\n            const currentUrlConfig = this.get().url;\r\n\r\n            if (isObject(configuration.url)) {\r\n                // have to merge otherwise the uri parser may\r\n                // throw an error if fewer values are provided\r\n                configuration.url = merge(currentUrlConfig, configuration.url);\r\n            }\r\n\r\n            if (allowEndpoints && configuration.url.toString().startsWith(\"/\")) {\r\n                configuration.url = merge(currentUrlConfig, {\r\n                    endpoint: configuration.url\r\n                });\r\n            }\r\n\r\n            const parsed = parseURIIntoComponent(configuration.url, allowEndpoints);\r\n            configuration.url = parsed;\r\n        }\r\n\r\n        if (hasOwnProperty(configuration, \"method\")) {\r\n            const method = uppercase(configuration.method);\r\n\r\n            if (!METHODS.includes(method)) {\r\n                throw new Error(`The method ${method} is not a valid HTTP method.`);\r\n            }\r\n\r\n            configuration.method = method;\r\n        }\r\n\r\n        const timeout = parseInt(\r\n            configuration.timeout?.toString() ?? DEFAULT_CLIENT_OPTIONS.timeout.toString()\r\n        );\r\n\r\n        if (isNaN(timeout)) {\r\n            configuration.timeout = DEFAULT_CLIENT_OPTIONS.timeout;\r\n        }\r\n\r\n        const maxContentLength = parseInt(\r\n            configuration.maxContentLength?.toString() ??\r\n                DEFAULT_CLIENT_OPTIONS.maxContentLength.toString()\r\n        );\r\n\r\n        if (isNaN(maxContentLength)) {\r\n            configuration.maxContentLength = DEFAULT_CLIENT_OPTIONS.maxContentLength;\r\n        }\r\n\r\n        const headers = UrbexHeaders.construct(configuration.headers, true);\r\n        delete configuration.headers;\r\n\r\n        return merge<UrbexConfig>(configuration, {\r\n            headers: headers\r\n        });\r\n    }\r\n\r\n    public set(config: InternalConfiguration): InternalConfiguration {\r\n        this.$config = config;\r\n        return config;\r\n    }\r\n\r\n    public merge(\r\n        config?: InternalConfiguration | Partial<InternalConfiguration>\r\n    ): InternalConfiguration {\r\n        if (argumentIsNotProvided(config) || !isObject(config)) {\r\n            return this.get();\r\n        }\r\n\r\n        const currentConfig = this.get();\r\n        const incomingHeaders = config.headers?.get() ?? {};\r\n\r\n        const mergedHeaders = merge(currentConfig.headers, incomingHeaders);\r\n\r\n        delete config.headers;\r\n\r\n        const merged = deepMerge(currentConfig, config);\r\n        const headersObject = UrbexHeaders.construct(mergedHeaders);\r\n\r\n        return merge(merged, { headers: headersObject });\r\n    }\r\n\r\n    public get(): InternalConfiguration {\r\n        return this.$config;\r\n    }\r\n\r\n    /**\r\n     * Reset the configuration to its default state.\r\n     */\r\n    public reset() {}\r\n}\r\n","import type { CacheClock } from \"cache-clock\";\r\nimport type {\r\n    Methods,\r\n    MethodsLower,\r\n    MethodsUpper,\r\n    RequestUrlPath,\r\n    DispatchedResponse,\r\n    PipelineExecutorsManager\r\n} from \"../types\";\r\nimport type { UrbexURL, UrbexConfig, InternalConfiguration } from \"../exportable-types\";\r\n\r\nimport { RequestApi } from \"./api/request-api\";\r\nimport { RequestConfig } from \"./request-config\";\r\nimport { UrbexError } from \"./error\";\r\nimport {\r\n    deepMerge,\r\n    merge,\r\n    clone,\r\n    isString,\r\n    isObject,\r\n    argumentIsNotProvided,\r\n    hasOwnProperty,\r\n    stringReplacer,\r\n    forEach,\r\n    isUndefined,\r\n    uppercase,\r\n    isEmpty\r\n} from \"../utils\";\r\n\r\ntype UrbexDirectRequest = Omit<UrbexConfig, \"data\" | \"url\" | \"cache\">;\r\ntype UrbexMethodRequest = Omit<UrbexDirectRequest, \"method\">;\r\n\r\nexport interface UrbexClient {\r\n    /**\r\n     * Send a GET request.\r\n     */\r\n    get(url: UrbexURL, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a POST request.\r\n     */\r\n    post(url: UrbexURL, data?: any, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a PUT request.\r\n     */\r\n    put(url: UrbexURL, data?: any, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a PATCH request.\r\n     */\r\n    patch(url: UrbexURL, data?: any, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a DELETE request.\r\n     */\r\n    delete(url: UrbexURL, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a HEAD request.\r\n     */\r\n    head(url: UrbexURL, config?: UrbexMethodRequest): DispatchedResponse;\r\n    /**\r\n     * Send a OPTIONS request.\r\n     */\r\n    options(url: UrbexURL, config?: UrbexMethodRequest): DispatchedResponse;\r\n}\r\n\r\nfunction createMethodConfig(method: Methods, uri: UrbexURL, config: UrbexConfig): UrbexConfig {\r\n    if (argumentIsNotProvided(uri)) {\r\n        throw new Error(\r\n            \"Attempted to call a HTTP method without providing a URL. If you want to use the default URL, use `urbex.send` instead.\"\r\n        );\r\n    }\r\n\r\n    return merge(config, { url: uri, method: method });\r\n}\r\n\r\nexport class UrbexClient extends RequestApi {\r\n    private $config: RequestConfig;\r\n    private $pipelines: PipelineExecutorsManager = {\r\n        request: [],\r\n        response: []\r\n    };\r\n\r\n    constructor(config?: UrbexConfig) {\r\n        super();\r\n\r\n        this.$config = new RequestConfig(config);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * Creates a new instance of the UrbexClient.\r\n     */\r\n    static create(config?: UrbexConfig): UrbexClient {\r\n        return new UrbexClient(config);\r\n    }\r\n\r\n    /**\r\n     * Current, and most up-to-date configuration of the UrbexClient.\r\n     */\r\n    get config(): InternalConfiguration {\r\n        return this.$config.get();\r\n    }\r\n\r\n    /**\r\n     * The internal cache module.\r\n     */\r\n    get cache(): CacheClock {\r\n        return this.$cache;\r\n    }\r\n\r\n    /**\r\n     * Configures the UrbexClient. You are free to call this method as\r\n     * many times as you want. All configurations will be merged together.\r\n     *\r\n     * @param config The configuration to use.\r\n     */\r\n    public configure(config: UrbexConfig): void {\r\n        const configuration = this.$config.createConfigurationObject(config, false);\r\n        this.$config.set(configuration);\r\n\r\n        if (isEmpty(configuration.cache)) {\r\n            if (this.$cache) {\r\n                this.$cache.clear();\r\n\r\n                if (this.$cache.isRunning) {\r\n                    this.$cache.stop();\r\n                }\r\n            }\r\n        } else {\r\n            this.$cache.configure(configuration.cache);\r\n\r\n            if (!this.$cache.isRunning) {\r\n                this.$cache.start();\r\n            }\r\n        }\r\n    }\r\n\r\n    public send(config: UrbexConfig = {}): DispatchedResponse {\r\n        const configuration = this.$config.parseIncomingConfig(config, true);\r\n        const merged = this.$config.merge(configuration);\r\n\r\n        return this.dispatchRequest(merged);\r\n    }\r\n\r\n    /**\r\n     * Inject pipelines into the UrbexClient. This allows you to add custom logic to the request/response\r\n     */\r\n    public injectPipeline(): void {}\r\n\r\n    /**\r\n     * Eject a pipeline from the UrbexClient.\r\n     */\r\n    public ejectPipeline(): void {}\r\n\r\n    /**\r\n     * When a response is received, the UrbexClient will actively push out the response to all active\r\n     * subscriptions\r\n     */\r\n    public subscribe() {}\r\n\r\n    public unsubscribe(): void {}\r\n}\r\n\r\nforEach([\"delete\", \"get\", \"head\", \"options\"], (_, value: MethodsLower) => {\r\n    UrbexClient.prototype[value] = function (url: UrbexURL, config?: UrbexMethodRequest) {\r\n        return this.send(createMethodConfig(uppercase(value), url, config));\r\n    };\r\n});\r\n\r\nforEach([\"post\", \"put\", \"patch\"], (_, value: MethodsLower) => {\r\n    UrbexClient.prototype[value] = function (\r\n        url: UrbexURL,\r\n        data?: any,\r\n        config?: UrbexMethodRequest\r\n    ) {\r\n        function combineIncomingConfig(): UrbexConfig {\r\n            if (isUndefined(data)) {\r\n                return data;\r\n            }\r\n\r\n            if (isObject(config)) {\r\n                return merge(config, { data: data });\r\n            } else {\r\n                return { data };\r\n            }\r\n        }\r\n\r\n        const configuration = combineIncomingConfig();\r\n\r\n        return this.send(createMethodConfig(uppercase(value), url, configuration));\r\n    };\r\n});\r\n\r\nexport function isUrbexClient(client: unknown): client is UrbexClient {\r\n    return client instanceof UrbexClient;\r\n}\r\n","import type { UrbexConfig } from \"./exportable-types\";\r\n\r\nimport { environment, Environment } from \"./environment\";\r\nimport { UrbexClient, isUrbexClient } from \"./core/urbex\";\r\nimport { PipelineExecutor } from \"./core/pipelines\";\r\n\r\nexport interface ExtendedUrbexClient extends UrbexClient {\r\n    /**\r\n     * Create a new isolated instance of the Urbex client\r\n     *\r\n     * Any existing configuration will be copied to the new\r\n     * instance. Furthermore, changes made to the new instance\r\n     * will not affect the original instance\r\n     */\r\n    isolateClient(config?: UrbexConfig): UrbexClient;\r\n    /**\r\n     *\r\n     * TypeScript safe guard to check if an object is an instance of UrbexClient\r\n     */\r\n    isUrbexClient(client: unknown): client is UrbexClient;\r\n    /**\r\n     * The underlying UrbexClient class which can be used to create new instances\r\n     *\r\n     * Recommended to use `isolateClient` instead\r\n     */\r\n    Client: typeof UrbexClient;\r\n    /**\r\n     * The current environment of the project\r\n     */\r\n    environment: Environment;\r\n}\r\n\r\nfunction createClient(): ExtendedUrbexClient {\r\n    const client = UrbexClient.create();\r\n    const extendedClient = client as ExtendedUrbexClient;\r\n\r\n    extendedClient.isolateClient = UrbexClient.create;\r\n    extendedClient.environment = environment;\r\n    extendedClient.isUrbexClient = isUrbexClient;\r\n    extendedClient.Client = UrbexClient;\r\n\r\n    return extendedClient;\r\n}\r\n\r\nconst urbex = createClient();\r\n\r\nexport * from \"./exportable-types\";\r\nexport * from \"./core/pipelines\";\r\n\r\nexport default urbex;\r\n","import urbex, { PipelineExecutor } from \"./lib/urbex\";\r\n\r\n// since this package has a named export and a default export, rollup\r\n// uses `output.exports: \"named\"` to make the named export the default\r\n// this works for CJS and ESM builds, but not for UMD\r\n\r\n// UMD exports the default export as a named and I don't want that\r\n// by design so I have to use `output.exports: \"default\"`, but\r\n// rollup complains of the 2 export types. So instead this\r\n// file is used to combined all the exports into a single default export\r\n// compatible for browser consumption\r\n\r\ndeclare module \"./lib/urbex\" {\r\n    interface ExtendedUrbexClient {\r\n        PipelineExecutor: typeof PipelineExecutor;\r\n    }\r\n}\r\n\r\nurbex.PipelineExecutor = PipelineExecutor;\r\n\r\nexport default urbex;\r\n"],"names":["Environment","constructor","_context","detectContext","window","document","process","versions","node","Error","nodeStrictCheck","isBrowser","isNode","context","isDevelopment","env","NODE_ENV","isProduction","environment","isUndefined","isFunction","isString","debug","hasOwnProperty","obj","prop","call","value","isArray","Array","isObject","isEmpty","length","Object","keys","capitalize","String","charAt","toUpperCase","slice","uppercase","clone","assign","merge","defaultOptions","options","deepMerge","objects","reduce","acc","concat","key","forEach","fn","index","extractMatchFromRegExp","regexp","group","defaultValue","matches","exec","stringReplacer","search","replace","ensureLeadingToken","token","argumentIsNotProvided","startsWith","ensureTrailingToken","endsWith","undefined","combineStrings","delimiter","strings","filter","string","join","createEmptyScheme","split","object","nestedKeys","nestedObject","UrbexError","error","message","name","stack","create","config","response","urbexError","status","request","TimeoutError","timeout","NodeRequest","getAgentFromProtocol","protocol","https","http","handleDataProtocolRequest","Promise","resolve","reject","data","send","agent","url","headers","has","set","params","toString","onError","err","href","hostname","path","endpoint","get","port","parseInt","isNaN","on","destroyed","responseType","chunks","push","bind","complete","destroy","body","Buffer","setTimeout","end","br","zlib","brotliDecompress","util","promisify","gzip","gunzip","deflate","inflate","compress","createUnzip","DECODERS","BrowserRequest","DEFAULT_BROWSER_HEADERS","DEFAULT_NODE_HEADERS","version","platform","DEFAULT_URI_COMPONENT","DEFAULT_PIPELINE_EXECUTORS","DEFAULT_CLIENT_OPTIONS","urlMount","method","cache","pipelines","maxContentLength","Infinity","responseEncoding","DEFAULT_URBEX_RESPONSE","startRequest","startTime","Date","now","timestamp","toISOString","clonedResponse","pipeline","execute","concludeRequest","result","incomingResult","statusCode","statusText","statusMessage","endTime","duration","RequestApi","register","$cache","CacheClock","autoStart","$api","dispatchRequest","configuration","isCacheEnabled","enabled","hit","pulled","stored","cacheKey","getCacheKey","entity","v","type","console","parseHeaderKey","formatHeaderKey","toLowerCase","trim","parseHeaderValue","JSON","stringify","normalizeHeaders","newHeaders","normalizedKey","normalizedValue","map","UrbexHeaders","withDefaults","_defineProperty","defaults","construct","forceMerge","normalizedHeaders","normalize","merged","$headers","delete","headerKey","clear","empty","PipelineExecutor","executor","$executor","transformRequestData","decodeResponseData","encoding","isBuffer","decoder","decompressed","transformResponseData","bufferString","parse","PROTOCOL_REGEXP","URI_TEMPLATE_REGEXP_LEFT","URI_TEMPLATE_REGEXP_RIGHT","METHODS","isValidURL","URL","convertStringToURIComponent","input","pathname","origin","convertURIComponentToString","template","createRegexString","word","RegExp","serializeParams","regex","match","templateValue","parseURIIntoComponent","component","allowEndpoints","buildableComponent","componentAsString","newComponent","serializerType","searchParams","URLSearchParams","determineAppropriateURI","location","RequestConfig","$config","createConfigurationObject","unshift","defaultConfig","parsed","parseIncomingConfig","currentUrlConfig","includes","currentConfig","incomingHeaders","mergedHeaders","headersObject","reset","createMethodConfig","uri","UrbexClient","configure","isRunning","stop","start","injectPipeline","ejectPipeline","subscribe","unsubscribe","_","prototype","combineIncomingConfig","isUrbexClient","client","createClient","extendedClient","isolateClient","Client","urbex"],"mappings":";;;;;;;;;;;;IAEO,MAAMA,WAAW,CAAC;IAGrBC,EAAAA,WAAW,GAAG;IACV,IAAA,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,aAAa,EAAE,CAAA;IACxC,GAAA;IAEQA,EAAAA,aAAa,GAAiB;QAClC,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACC,QAAQ,KAAK,WAAW,EAAE;IACzE,MAAA,OAAO,SAAS,CAAA;IACpB,KAAA;IAEA,IAAA,IAAI,OAAOC,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,QAAQ,IAAID,OAAO,CAACC,QAAQ,CAACC,IAAI,EAAE;IAC7E,MAAA,OAAO,MAAM,CAAA;IACjB,KAAA;IAEA,IAAA,MAAM,IAAIC,KAAK,CAAC,uCAAuC,CAAC,CAAA;IAC5D,GAAA;IAEQC,EAAAA,eAAe,GAAS;QAC5B,IAAI,IAAI,CAACC,SAAS,EAAE;IAChB,MAAA,MAAM,IAAIF,KAAK,CAAC,0DAA0D,CAAC,CAAA;IAC/E,KAAA;IACJ,GAAA;IAEA,EAAA,IAAIH,OAAO,GAAmB;QAC1B,IAAI,IAAI,CAACM,MAAM,EAAE;IACb,MAAA,OAAON,OAAO,CAAA;IAClB,KAAA;IAEA,IAAA,OAAO,EAAE,CAAA;IACb,GAAA;IAEA,EAAA,IAAIO,OAAO,GAAiB;QACxB,OAAO,IAAI,CAACX,QAAQ,CAAA;IACxB,GAAA;IAEA,EAAA,IAAIS,SAAS,GAAY;IACrB,IAAA,OAAO,IAAI,CAACE,OAAO,KAAK,SAAS,CAAA;IACrC,GAAA;IAEA,EAAA,IAAID,MAAM,GAAY;IAClB,IAAA,OAAO,IAAI,CAACC,OAAO,KAAK,MAAM,CAAA;IAClC,GAAA;IAEA,EAAA,IAAIC,aAAa,GAAY;QACzB,IAAI,CAACJ,eAAe,EAAE,CAAA;IAEtB,IAAA,OAAOJ,OAAO,CAACS,GAAG,CAACC,QAAQ,KAAK,aAAa,CAAA;IACjD,GAAA;IAEA,EAAA,IAAIC,YAAY,GAAY;QACxB,IAAI,CAACP,eAAe,EAAE,CAAA;IAEtB,IAAA,OAAOJ,OAAO,CAACS,GAAG,CAACC,QAAQ,KAAK,YAAY,CAAA;IAChD,GAAA;IACJ,CAAA;IAEO,MAAME,aAAW,GAAG,IAAIlB,WAAW,EAAE;;;;;;;;;;;;;;;;IC5D5C;IACA;IACA;IACA;IACA;AACA;IACA,SAAS,OAAO,CAAC,GAAG,EAAE;IACtB,EAAE,yBAAyB,CAAC;AAC5B;IACA,EAAE,OAAO,OAAO,GAAG,UAAU,IAAI,OAAO,MAAM,IAAI,QAAQ,IAAI,OAAO,MAAM,CAAC,QAAQ,GAAG,UAAU,GAAG,EAAE;IACtG,IAAI,OAAO,OAAO,GAAG,CAAC;IACtB,GAAG,GAAG,UAAU,GAAG,EAAE;IACrB,IAAI,OAAO,GAAG,IAAI,UAAU,IAAI,OAAO,MAAM,IAAI,GAAG,CAAC,WAAW,KAAK,MAAM,IAAI,GAAG,KAAK,MAAM,CAAC,SAAS,GAAG,QAAQ,GAAG,OAAO,GAAG,CAAC;IAChI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAClB,CAAC;IACD,SAAS,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE;IAChD,EAAE,IAAI,EAAE,QAAQ,YAAY,WAAW,CAAC,EAAE;IAC1C,IAAI,MAAM,IAAI,SAAS,CAAC,mCAAmC,CAAC,CAAC;IAC7D,GAAG;IACH,CAAC;IACD,SAAS,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE;IAC1C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IACzC,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,IAAI,KAAK,CAAC;IAC3D,IAAI,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;IACnC,IAAI,IAAI,OAAO,IAAI,UAAU,EAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC1D,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;IAC9D,GAAG;IACH,CAAC;IACD,SAAS,YAAY,CAAC,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE;IAC5D,EAAE,IAAI,UAAU,EAAE,iBAAiB,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;IACvE,EAAE,IAAI,WAAW,EAAE,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;IAC/D,EAAE,MAAM,CAAC,cAAc,CAAC,WAAW,EAAE,WAAW,EAAE;IAClD,IAAI,QAAQ,EAAE,KAAK;IACnB,GAAG,CAAC,CAAC;IACL,EAAE,OAAO,WAAW,CAAC;IACrB,CAAC;IACD,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;IAC1C,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;IAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;IACpC,MAAM,KAAK,EAAE,KAAK;IAClB,MAAM,UAAU,EAAE,IAAI;IACtB,MAAM,YAAY,EAAE,IAAI;IACxB,MAAM,QAAQ,EAAE,IAAI;IACpB,KAAK,CAAC,CAAC;IACP,GAAG,MAAM;IACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IACrB,GAAG;IACH,EAAE,OAAO,GAAG,CAAC;IACb,CAAC;IACD,SAAS,2BAA2B,CAAC,CAAC,EAAE,MAAM,EAAE;IAChD,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO;IACjB,EAAE,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE,OAAO,iBAAiB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;IACjE,EAAE,IAAI,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACzD,EAAE,IAAI,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC;IAC9D,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD,EAAE,IAAI,CAAC,KAAK,WAAW,IAAI,0CAA0C,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,iBAAiB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;IACnH,CAAC;IACD,SAAS,iBAAiB,CAAC,GAAG,EAAE,GAAG,EAAE;IACrC,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;IACxD,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACxE,EAAE,OAAO,IAAI,CAAC;IACd,CAAC;IACD,SAAS,0BAA0B,CAAC,CAAC,EAAE,cAAc,EAAE;IACvD,EAAE,IAAI,EAAE,GAAG,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,CAAC;IAClF,EAAE,IAAI,CAAC,EAAE,EAAE;IACX,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,2BAA2B,CAAC,CAAC,CAAC,CAAC,IAAI,cAAc,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;IAC1H,MAAM,IAAI,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC;IACrB,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC;IAChB,MAAM,IAAI,CAAC,GAAG,YAAY,EAAE,CAAC;IAC7B,MAAM,OAAO;IACb,QAAQ,CAAC,EAAE,CAAC;IACZ,QAAQ,CAAC,EAAE,YAAY;IACvB,UAAU,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO;IACpC,YAAY,IAAI,EAAE,IAAI;IACtB,WAAW,CAAC;IACZ,UAAU,OAAO;IACjB,YAAY,IAAI,EAAE,KAAK;IACvB,YAAY,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACzB,WAAW,CAAC;IACZ,SAAS;IACT,QAAQ,CAAC,EAAE,UAAU,CAAC,EAAE;IACxB,UAAU,MAAM,CAAC,CAAC;IAClB,SAAS;IACT,QAAQ,CAAC,EAAE,CAAC;IACZ,OAAO,CAAC;IACR,KAAK;IACL,IAAI,MAAM,IAAI,SAAS,CAAC,uIAAuI,CAAC,CAAC;IACjK,GAAG;IACH,EAAE,IAAI,gBAAgB,GAAG,IAAI;IAC7B,IAAI,MAAM,GAAG,KAAK;IAClB,IAAI,GAAG,CAAC;IACR,EAAE,OAAO;IACT,IAAI,CAAC,EAAE,YAAY;IACnB,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB,KAAK;IACL,IAAI,CAAC,EAAE,YAAY;IACnB,MAAM,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;IAC3B,MAAM,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC;IACnC,MAAM,OAAO,IAAI,CAAC;IAClB,KAAK;IACL,IAAI,CAAC,EAAE,UAAU,CAAC,EAAE;IACpB,MAAM,MAAM,GAAG,IAAI,CAAC;IACpB,MAAM,GAAG,GAAG,CAAC,CAAC;IACd,KAAK;IACL,IAAI,CAAC,EAAE,YAAY;IACnB,MAAM,IAAI;IACV,QAAQ,IAAI,CAAC,gBAAgB,IAAI,EAAE,CAAC,MAAM,IAAI,IAAI,EAAE,EAAE,CAAC,MAAM,EAAE,CAAC;IAChE,OAAO,SAAS;IAChB,QAAQ,IAAI,MAAM,EAAE,MAAM,GAAG,CAAC;IAC9B,OAAO;IACP,KAAK;IACL,GAAG,CAAC;IACJ,CAAC;AACD;IACA,SAASmB,aAAW,CAAC,KAAK,EAAE;IAC5B,EAAE,OAAO,OAAO,KAAK,KAAK,WAAW,CAAC;IACtC,CAAC;IACD,SAAS,YAAY,CAAC,KAAK,EAAE;IAC7B,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAChF,CAAC;IACD,SAAS,QAAQ,CAAC,KAAK,EAAE;IACzB,EAAE,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IACD,SAASC,YAAU,CAAC,KAAK,EAAE;IAC3B,EAAE,OAAO,OAAO,KAAK,KAAK,UAAU,CAAC;IACrC,CAAC;IACD,SAASC,UAAQ,CAAC,KAAK,EAAE;IACzB,EAAE,OAAO,OAAO,KAAK,KAAK,QAAQ,CAAC;IACnC,CAAC;IACD,SAAS,UAAU,CAAC,KAAK,EAAE;IAC3B,EAAE,OAAO,KAAK,GAAG,CAAC,CAAC;IACnB,CAAC;IACD,SAAS,QAAQ,CAAC,KAAK,EAAE;IACzB,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC;IACD,SAAS,YAAY,CAAC,MAAM,EAAE,MAAM,EAAE;IACtC,EAAE,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAC3C,CAAC;IACD,SAAS,SAAS,CAAC,KAAK,EAAE;IAC1B,EAAE,IAAIF,aAAW,CAAC,KAAK,CAAC,EAAE;IAC1B,IAAI,OAAO,EAAE,CAAC;IACd,GAAG;IACH,EAAE,IAAIE,UAAQ,CAAC,KAAK,CAAC,EAAE;IACvB,IAAI,OAAO,KAAK,CAAC;IACjB,GAAG;IACH,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;AACD;IACA,SAAS,qBAAqB,GAAG;IACjC,EAAE,IAAI,OAAO,MAAM,KAAK,WAAW,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,WAAW,EAAE;IAC/E,IAAI,OAAO,SAAS,CAAC;IACrB,GAAG;IACH,EAAE,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE;IACnF,IAAI,OAAO,MAAM,CAAC;IAClB,GAAG;IACH,EAAE,OAAO,SAAS,CAAC;IACnB,CAAC;IACD,IAAI,WAAW,GAAG,qBAAqB,EAAE,CAAC;AAC1C;IACA,IAAI,MAAM,GAAG;IACb,EAAE,GAAG,EAAE,UAAU;IACjB,EAAE,MAAM,EAAE,UAAU;IACpB,EAAE,KAAK,EAAE,UAAU;IACnB,EAAE,SAAS,EAAE,UAAU;IACvB,CAAC,CAAC;IACF,IAAI,OAAO,GAAG;IACd,EAAE,KAAK,EAAE,SAAS;IAClB,EAAE,MAAM,EAAE,SAAS;IACnB,CAAC,CAAC;IACF,SAASC,OAAK,CAAC,OAAO,EAAE,KAAK,EAAE;IAC/B,EAAE,IAAIA,OAAK,CAAC,KAAK,EAAE;IACnB,IAAI,IAAI,MAAM,GAAG,gBAAgB,CAAC;IAClC,IAAI,IAAI,gBAAgB,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACzG,IAAI,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAClC,GAAG;IACH,CAAC;AACDA,WAAK,CAAC,KAAK,GAAG,KAAK,CAAC;AACpB;IACA,SAAS,IAAI,CAAC,KAAK,EAAE;IACrB,EAAE,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;IACjC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAClC,GAAG;IACH,EAAE,IAAI,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;IAC1D,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAChD,IAAI,CAAC,IAAI,CAAC,CAAC;IACX,IAAI,OAAO,CAAC,CAAC;IACb,GAAG,EAAE,CAAC,CAAC,CAAC;IACR,EAAE,OAAO,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IACjC,CAAC;AACD;IACA,SAAS,mBAAmB,GAAG;IAC/B,EAAE,IAAI;IACN;IACA;IACA,IAAI,OAAO,IAAI,CAAC;IAChB,GAAG,CAAC,OAAO,KAAK,EAAE;IAClB,IAAI,OAAO,IAAI,CAAC;IAChB,GAAG;IACH,CAAC;IACD,IAAI,YAAY,GAAG,mBAAmB,EAAE,CAAC;AACzC;IACA,IAAI,gBAAgB,CAAC;IACrB,IAAI,qBAAqB,GAAG;IAC5B,EAAE,QAAQ,EAAE,IAAI;IAChB,EAAE,GAAG,EAAE,QAAQ;IACf,EAAE,QAAQ,EAAE,EAAE,GAAG,IAAI;IACrB,EAAE,KAAK,EAAE,KAAK;IACd,EAAE,SAAS,EAAE,IAAI;IACjB,CAAC,CAAC;IACF,SAAS,aAAa,CAAC,QAAQ,EAAE,KAAK,EAAE;IACxC,EAAE,IAAI,OAAO,GAAG,WAAW,KAAK,MAAM,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;IAC/E,EAAE,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC7C,CAAC;IACD,SAAS,iBAAiB,GAAG;IAC7B,EAAE,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;IACvF,EAAE,IAAI,cAAc,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;IACvE,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;IAC9B,IAAIA,OAAK,CAAC,wDAAwD,EAAE,QAAQ,CAAC,CAAC;IAC9E,IAAI,OAAO,cAAc,CAAC;IAC1B,GAAG;IACH,EAAE,IAAI,IAAI,GAAG,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;IACnD,EAAE,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IAC5D,IAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5C,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IACvC,IAAI,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC;IAC5C,GAAG;IACH,EAAE,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;IAClD,IAAI,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAClC,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IACvC,IAAI,IAAI,CAAC,GAAG,GAAG,cAAc,CAAC,GAAG,CAAC;IAClC,GAAG;IACH,EAAE,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IAC5D,IAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5C,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IACvC,IAAI,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,QAAQ,CAAC;IAC5C,GAAG;IACH,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,CAACF,YAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;IACnD,IAAI,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;IAC9B,GAAG;IACH,EAAE,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAAE;IAC3B,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IACtB,GAAG;IACH,EAAE,OAAO,IAAI,CAAC;IACd,CAAC;IACD,SAAS,eAAe,CAAC,GAAG,EAAE,QAAQ,EAAE;IACxC,EAAE,IAAI,QAAQ,EAAE;IAChB,IAAI,OAAO,GAAG,CAAC;IACf,GAAG;IACH,EAAE,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC;IACD,gBAAgB,GAAG,MAAM,CAAC,QAAQ,CAAC;IACnC,IAAI,UAAU,gBAAgB,YAAY;IAC1C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,EAAE,SAAS,UAAU,CAAC,OAAO,EAAE;IAC/B,IAAI,eAAe,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;IACtC,IAAI,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;IAC5C,IAAI,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;IAC5C,IAAI,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;IAC5C,IAAI,eAAe,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC;IAC9C,IAAI,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;IACrC,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;IAC5B,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAC5B,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;IAChC,MAAM,IAAI,CAAC,KAAK,EAAE,CAAC;IACnB,KAAK;IACL,GAAG;IACH,EAAE,YAAY,CAAC,UAAU,EAAE,CAAC;IAC5B,IAAI,GAAG,EAAE,OAAO;IAChB,IAAI,KAAK,EAAE,SAAS,KAAK,GAAG;IAC5B,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;IAClB,MAAM,IAAI,GAAG,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;IACnC,MAAM,IAAI,SAAS,GAAG,0BAA0B,CAAC,IAAI,CAAC;IACtD,QAAQ,KAAK,CAAC;IACd,MAAM,IAAI;IACV,QAAQ,KAAK,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,EAAE,EAAE,IAAI,GAAG;IAC5D,UAAU,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAClC,UAAU,IAAI,KAAK,CAAC,CAAC,IAAI,GAAG,EAAE;IAC9B,YAAY,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IACjD,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,MAAM,EAAE;IACjD,cAAc,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC5C,aAAa;IACb,WAAW;IACX,SAAS;IACT,OAAO,CAAC,OAAO,GAAG,EAAE;IACpB,QAAQ,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACzB,OAAO,SAAS;IAChB,QAAQ,SAAS,CAAC,CAAC,EAAE,CAAC;IACtB,OAAO;IACP,MAAM,IAAI,CAAC,KAAK,EAAE,CAAC;IACnB,KAAK;AACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,KAAK;IACd,IAAI,GAAG;IACP;IACA;IACA;IACA,IAAI,SAAS,GAAG,GAAG;IACnB,MAAM,OAAO,YAAY,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;IAC9C,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,MAAM;IACf,IAAI,GAAG,EAAE,SAAS,GAAG,GAAG;IACxB,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IAC9B,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,SAAS;IAClB,IAAI,GAAG,EAAE,SAAS,GAAG,GAAG;IACxB,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC;IAC3B,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,WAAW;IACpB,IAAI,GAAG,EAAE,SAAS,GAAG,GAAG;IACxB,MAAM,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;IAC3B,KAAK;AACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,WAAW;IACpB,IAAI,KAAK,EAAE,SAAS,SAAS,GAAG;IAChC,MAAM,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;IAC3F,MAAM,IAAI,CAAC,QAAQ,GAAG,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,qBAAqB,CAAC,CAAC;IACxF,MAAME,OAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;IACvC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,qBAAqB,CAAC,QAAQ,EAAE;IAClE,QAAQA,OAAK,CAAC,iEAAiE,EAAE,QAAQ,CAAC,CAAC;IAC3F,OAAO;IACP,KAAK;AACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,OAAO;IAChB,IAAI,KAAK,EAAE,SAAS,KAAK,GAAG;IAC5B,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE;IAC7E,QAAQA,OAAK,CAAC,qDAAqD,EAAE,QAAQ,CAAC,CAAC;IAC/E,QAAQ,OAAO;IACf,OAAO;IACP,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;IACvB,QAAQA,OAAK,CAAC,kDAAkD,EAAE,KAAK,CAAC,CAAC;IACzE,QAAQ,OAAO;IACf,OAAO;IACP,MAAM,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAChF,KAAK;AACL;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,MAAM;IACf,IAAI,KAAK,EAAE,SAAS,IAAI,GAAG;IAC3B,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IACxB,QAAQA,OAAK,CAAC,6CAA6C,EAAE,KAAK,CAAC,CAAC;IACpE,QAAQ,OAAO;IACf,OAAO;IACP,MAAM,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,MAAM,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACzB,KAAK;AACL;IACA;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,KAAK;IACd,IAAI,KAAK,EAAE,SAAS,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;IAC7C,MAAM,IAAI,SAAS,GAAG,eAAe,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAClD,MAAM,IAAI,kBAAkB,GAAG,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC;IACvE,QAAQ,GAAG,GAAG,kBAAkB,CAAC,GAAG,CAAC;IACrC,MAAM,IAAI,SAAS,GAAG;IACtB,QAAQ,CAAC,EAAE,SAAS;IACpB,QAAQ,CAAC,EAAE,KAAK;IAChB,QAAQ,CAAC,EAAE,GAAG;IACd,QAAQ,CAAC,EAAE,YAAY,CAAC,GAAG,EAAE,GAAG,GAAG;IACnC,OAAO,CAAC;IACR,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE;IACrC,QAAQ,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC5B,OAAO;IACP,MAAM,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;IAC9C,QAAQA,OAAK,CAAC,0CAA0C,EAAE,QAAQ,CAAC,CAAC;IACpE,QAAQ,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACxD,OAAO;IACP,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IAC5C,MAAM,OAAO,IAAI,CAAC;IAClB,KAAK;AACL;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,KAAK;IACd,IAAI,KAAK,EAAE,SAAS,GAAG,CAAC,GAAG,EAAE;IAC7B,MAAM,IAAI,QAAQ,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;IAC/F,MAAM,IAAI,SAAS,GAAG,eAAe,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACrD,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC5C,MAAM,IAAIH,aAAW,CAAC,IAAI,CAAC,EAAE;IAC7B,QAAQ,OAAO,SAAS,CAAC;IACzB,OAAO;IACP,MAAM,IAAI,IAAI,CAAC,CAAC,GAAG,YAAY,CAAC,GAAG,EAAE,EAAE;IACvC,QAAQG,OAAK,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,EAAE,eAAe,CAAC,EAAE,KAAK,CAAC,CAAC;IACjE,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC5B,QAAQ,OAAO,SAAS,CAAC;IACzB,OAAO;IACP,MAAM,OAAO,IAAI,CAAC;IAClB,KAAK;AACL;IACA;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,KAAK;IACd,IAAI,KAAK,EAAE,SAAS,GAAG,CAAC,GAAG,EAAE;IAC7B,MAAM,IAAI,QAAQ,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;IAC/F,MAAM,IAAI,SAAS,GAAG,eAAe,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACrD,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAC5C,MAAM,IAAIH,aAAW,CAAC,IAAI,CAAC,EAAE;IAC7B,QAAQ,OAAO,SAAS,CAAC;IACzB,OAAO;IACP,MAAMG,OAAK,CAAC,sBAAsB,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;IAC9D,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IACvC,MAAM,OAAO,IAAI,CAAC;IAClB,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,KAAK;IACd,IAAI,KAAK,EAAE,SAAS,GAAG,CAAC,GAAG,EAAE;IAC7B,MAAM,IAAI,QAAQ,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;IAC/F,MAAM,IAAI,SAAS,GAAG,eAAe,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACrD,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACxC,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,OAAO;IAChB,IAAI,KAAK,EAAE,SAAS,KAAK,GAAG;IAC5B,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAC1B,KAAK;AACL;IACA;IACA;IACA;IACA,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,aAAa;IACtB,IAAI,KAAK,EAAE,SAAS,WAAW,CAAC,KAAK,EAAE;IACvC,MAAM,OAAO,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC3C,KAAK;IACL,GAAG,EAAE;IACL,IAAI,GAAG,EAAE,gBAAgB;IACzB,IAAI,KAAK,EAAE,SAAS,KAAK,GAAG;IAC5B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IAClC,KAAK;IACL,GAAG,CAAC,EAAE,CAAC;IACP,IAAI,GAAG,EAAE,QAAQ;IACjB,IAAI,KAAK,EAAE,SAAS,MAAM,GAAG;IAC7B,MAAM,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;IAC3F,MAAM,OAAO,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC;IACrC,KAAK;IACL,GAAG,CAAC,CAAC,CAAC;IACN,EAAE,OAAO,UAAU,CAAC;IACpB,CAAC,EAAE;;IC3fH;IACA;IACA;IAMO,SAASC,cAAc,CAC1BC,GAAM,EACNC,IAAO,EACsB;MAC7B,OAAOD,GAAG,CAACD,cAAc,CAACG,IAAI,CAACF,GAAG,EAAEC,IAAI,CAAC,CAAA;IAC7C,CAAA;IAEO,SAASN,WAAW,CAACQ,KAAc,EAAsB;MAC5D,OAAO,OAAOA,KAAK,KAAK,WAAW,CAAA;IACvC,CAAA;IAmBO,SAASC,OAAO,CAAID,KAAc,EAAgB;IACrD,EAAA,OAAOE,KAAK,CAACD,OAAO,CAACD,KAAK,CAAC,CAAA;IAC/B,CAAA;IAEO,SAASG,QAAQ,CAACH,KAAc,EAAmB;IACtD,EAAA,OAAO,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,IAAI,CAACC,OAAO,CAACD,KAAK,CAAC,CAAA;IACzE,CAAA;IAEO,SAASN,QAAQ,CAACM,KAAc,EAAmB;MACtD,OAAO,OAAOA,KAAK,KAAK,QAAQ,CAAA;IACpC,CAAA;IAEO,SAASP,UAAU,CAACO,KAAc,EAAqB;MAC1D,OAAO,OAAOA,KAAK,KAAK,UAAU,CAAA;IACtC,CAAA;IAEO,SAASI,OAAO,CAACJ,KAAU,EAAW;IACzC,EAAA,IAAIC,OAAO,CAACD,KAAK,CAAC,EAAE;IAChB,IAAA,OAAOA,KAAK,CAACK,MAAM,KAAK,CAAC,CAAA;IAC7B,GAAC,MAAM,IAAIF,QAAQ,CAACH,KAAK,CAAC,EAAE;QACxB,OAAOM,MAAM,CAACC,IAAI,CAACP,KAAK,CAAC,CAACK,MAAM,KAAK,CAAC,CAAA;IAC1C,GAAC,MAAM;IACH,IAAA,OAAO,CAACL,KAAK,CAAA;IACjB,GAAA;IACJ,CAAA;IAEO,SAASQ,UAAU,CAACR,KAAa,EAAU;IAC9CA,EAAAA,KAAK,GAAGS,MAAM,CAACT,KAAK,CAAC,CAAA;IACrB,EAAA,OAAOA,KAAK,CAACU,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGX,KAAK,CAACY,KAAK,CAAC,CAAC,CAAC,CAAA;IACzD,CAAA;IAEO,SAASC,SAAS,CAAmBb,KAAQ,EAAK;IACrD,EAAA,OAAOS,MAAM,CAACT,KAAK,CAAC,CAACW,WAAW,EAAE,CAAA;IACtC,CAAA;IAMO,SAASG,KAAK,CAAId,KAAQ,EAAK;IAClC,EAAA,IAAIC,OAAO,CAACD,KAAK,CAAC,EAAE;QAChB,OAAOA,KAAK,CAACY,KAAK,EAAE,CAAA;IACxB,GAAC,MAAM,IAAIT,QAAQ,CAACH,KAAK,CAAC,EAAE;QACxB,OAAOM,MAAM,CAACS,MAAM,CAAC,EAAE,EAAEf,KAAK,CAAC,CAAA;IACnC,GAAC,MAAM;IACH,IAAA,OAAOA,KAAK,CAAA;IAChB,GAAA;IACJ,CAAA;IAEO,SAASgB,KAAK,CAAmBC,cAAiB,EAAEC,OAAU,EAAS;MAC1E,OAAOZ,MAAM,CAACS,MAAM,CAAC,EAAE,EAAEE,cAAc,EAAEC,OAAO,CAAC,CAAA;IACrD,CAAA;IAEO,SAASC,SAAS,GAAkE;IAAA,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAzCC,OAAO,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;QAAPA,OAAO,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;IAAA,GAAA;MACrD,OAAOA,OAAO,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEzB,GAAG,KAAK;IAChC,IAAA,IAAII,OAAO,CAACJ,GAAG,CAAC,EAAE;IACd,MAAA,OAAOyB,GAAG,CAACC,MAAM,CAAC1B,GAAG,CAAC,CAAA;IAC1B,KAAA;IAEA,IAAA,KAAK,MAAM2B,GAAG,IAAI3B,GAAG,EAAE;IACnB,MAAA,IAAII,OAAO,CAACqB,GAAG,CAACE,GAAG,CAAC,CAAC,IAAIvB,OAAO,CAACJ,GAAG,CAAC2B,GAAG,CAAC,CAAC,EAAE;IACxCF,QAAAA,GAAG,CAACE,GAAG,CAAC,GAAGF,GAAG,CAACE,GAAG,CAAC,CAACD,MAAM,CAAC1B,GAAG,CAAC2B,GAAG,CAAC,CAAC,CAAA;IACxC,OAAC,MAAM,IAAIrB,QAAQ,CAACmB,GAAG,CAACE,GAAG,CAAC,CAAC,IAAIrB,QAAQ,CAACN,GAAG,CAAC2B,GAAG,CAAC,CAAC,EAAE;IACjDF,QAAAA,GAAG,CAACE,GAAG,CAAC,GAAGL,SAAS,CAACG,GAAG,CAACE,GAAG,CAAC,EAAE3B,GAAG,CAAC2B,GAAG,CAAC,CAAC,CAAA;IAC5C,OAAC,MAAM;IACHF,QAAAA,GAAG,CAACE,GAAG,CAAC,GAAG3B,GAAG,CAAC2B,GAAG,CAAC,CAAA;IACvB,OAAA;IACJ,KAAA;IAEA,IAAA,OAAOF,GAAG,CAAA;OACb,EAAE,EAAE,CAAC,CAAA;IACV,CAAA;IAUO,SAASG,OAAO,CAAI5B,GAAM,EAAE6B,EAAqD,EAAQ;IAC5F,EAAA,IAAIlC,WAAW,CAACK,GAAG,CAAC,EAAE;IAClB,IAAA,OAAA;IACJ,GAAA;IAEA,EAAA,IAAII,OAAO,CAACJ,GAAG,CAAC,EAAE;IACdA,IAAAA,GAAG,CAAC4B,OAAO,CAAC,UAAUzB,KAAK,EAAE2B,KAAK,EAAE;UAChCD,EAAE,CAAC3B,IAAI,CAAC,IAAI,EAAE4B,KAAK,EAAE3B,KAAK,EAAEH,GAAG,CAAC,CAAA;IACpC,KAAC,CAAC,CAAA;IACN,GAAC,MAAM;IACH,IAAA,KAAK,MAAM2B,GAAG,IAAI3B,GAAG,EAAE;IACnB6B,MAAAA,EAAE,CAAC3B,IAAI,CAAC,IAAI,EAAEyB,GAAG,EAAE3B,GAAG,CAAC2B,GAAG,CAAC,EAAE3B,GAAG,CAAC,CAAA;IACrC,KAAA;IACJ,GAAA;IACJ,CAAA;IAEO,SAAS+B,sBAAsB,CAClC5B,KAAoB,EACpB6B,MAAc,EAGD;MAAA,IAFbC,KAAa,uEAAG,CAAC,CAAA;MAAA,IACjBC,YAAiB,uEAAG,IAAI,CAAA;IAExB,EAAA,IAAI/B,KAAK,EAAE;IACP,IAAA,MAAMgC,OAAO,GAAGH,MAAM,CAACI,IAAI,CAACjC,KAAK,CAAC,CAAA;QAElC,IAAIC,OAAO,CAAC+B,OAAO,CAAC,IAAI,CAAC5B,OAAO,CAAC4B,OAAO,CAAC,EAAE;UACvC,OAAOA,OAAO,CAACF,KAAK,CAAC,CAAA;IACzB,KAAA;IACJ,GAAA;IAEA,EAAA,OAAOC,YAAY,CAAA;IACvB,CAAA;IAUO,SAASG,cAAc,CAAClC,KAAa,EAAEmC,MAAuB,EAAEC,OAAe,EAAU;IAC5F,EAAA,OAAOpC,KAAK,CAACoC,OAAO,CAACD,MAAM,EAAEC,OAAO,CAAC,CAAA;IACzC,CAAA;IAEO,SAASC,kBAAkB,CAACC,KAAa,EAAEtC,KAAa,EAAU;IACrE,EAAA,IAAIuC,qBAAqB,CAACvC,KAAK,CAAC,EAAE;IAC9B,IAAA,OAAO,EAAE,CAAA;IACb,GAAA;IAEA,EAAA,IAAIA,KAAK,CAACwC,UAAU,CAACF,KAAK,CAAC,EAAE;IACzB,IAAA,OAAOtC,KAAK,CAAA;IAChB,GAAA;IAEA,EAAA,OAAQ,CAAEsC,EAAAA,KAAM,CAAEtC,EAAAA,KAAM,CAAC,CAAA,CAAA;IAC7B,CAAA;IAEO,SAASyC,mBAAmB,CAACH,KAAa,EAAEtC,KAAa,EAAU;IACtE,EAAA,IAAIuC,qBAAqB,CAACvC,KAAK,CAAC,EAAE;IAC9B,IAAA,OAAO,EAAE,CAAA;IACb,GAAA;IAEA,EAAA,IAAIA,KAAK,CAAC0C,QAAQ,CAACJ,KAAK,CAAC,EAAE;IACvB,IAAA,OAAOtC,KAAK,CAAA;IAChB,GAAA;IAEA,EAAA,OAAQ,CAAEA,EAAAA,KAAM,CAAEsC,EAAAA,KAAM,CAAC,CAAA,CAAA;IAC7B,CAAA;IAEO,SAASC,qBAAqB,CAACvC,KAAc,EAAW;IAC3D,EAAA,OAAOA,KAAK,KAAK2C,SAAS,IAAI3C,KAAK,KAAK,IAAI,CAAA;IAChD,CAAA;IAEO,SAAS4C,cAAc,GAAuD;MAAA,IAAtDC,SAAiB,uEAAG,EAAE,CAAA;IAAA,EAAA,KAAA,IAAA,KAAA,GAAA,SAAA,CAAA,MAAA,EAAKC,OAAO,GAAA,IAAA,KAAA,CAAA,KAAA,GAAA,CAAA,GAAA,KAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,KAAA,EAAA,KAAA,EAAA,EAAA;QAAPA,OAAO,CAAA,KAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,KAAA,CAAA,CAAA;IAAA,GAAA;IAC7D,EAAA,OAAOA,OAAO,CAACC,MAAM,CAAEC,MAAM,IAAK,CAAC5C,OAAO,CAAC4C,MAAM,CAAC,CAAC,CAACC,IAAI,CAACJ,SAAS,CAAC,CAAA;IACvE,CAAA;IAkBO,SAASK,iBAAiB,CAAI3C,IAAc,EAAK;MACpD,OAAOA,IAAI,CAACc,MAAM,CAAC,CAACC,GAAG,EAAEE,GAAG,KAAK;IAC7B,IAAA,MAAMjB,IAAI,GAAGiB,GAAG,CAAC2B,KAAK,CAAC,GAAG,CAAC,CAAA;IAE3B,IAAA,IAAI5C,IAAI,CAACF,MAAM,KAAK,CAAC,EAAE;IACnBiB,MAAAA,GAAG,CAACE,GAAG,CAAC,GAAG,IAAI,CAAA;IACnB,KAAC,MAAM;IACH,MAAA,MAAM,CAAC4B,MAAM,EAAE,GAAGC,UAAU,CAAC,GAAG9C,IAAI,CAAA;IAEpC,MAAA,IAAI,CAACe,GAAG,CAAC8B,MAAM,CAAC,EAAE;IACd9B,QAAAA,GAAG,CAAC8B,MAAM,CAAC,GAAG,EAAE,CAAA;IACpB,OAAA;IAEA,MAAA,MAAME,YAAY,GAAGJ,iBAAiB,CAACG,UAAU,CAAC,CAAA;IAClD/B,MAAAA,GAAG,CAAC8B,MAAM,CAAC,GAAGpC,KAAK,CAACM,GAAG,CAAC8B,MAAM,CAAC,EAAEE,YAAY,CAAC,CAAA;IAClD,KAAA;IAEA,IAAA,OAAOhC,GAAG,CAAA;OACb,EAAE,EAAE,CAAM,CAAA;IACf;;ICzOO,MAAMiC,UAAU,SAASzE,KAAK,CAA2B;MAM5DR,WAAW,CAACkF,KAAU,EAAE;IACpB,IAAA,IAAI,EAAEA,KAAK,YAAY1E,KAAK,CAAC,EAAE;IAC3B0E,MAAAA,KAAK,GAAG,IAAI1E,KAAK,CAAC0E,KAAK,CAAC,CAAA;IAC5B,KAAA;IAEA,IAAA,KAAK,CAACA,KAAK,CAACC,OAAO,CAAC,CAAA;IACpB,IAAA,IAAI,CAACC,IAAI,GAAGF,KAAK,CAACE,IAAI,CAAA;IACtB,IAAA,IAAI,CAACC,KAAK,GAAGH,KAAK,CAACG,KAAK,CAAA;IAC5B,GAAA;IAEA,EAAA,OAAOC,MAAM,CACTJ,KAAU,EACVK,MAAkC,EAClCC,QAA4B,EAClB;IACV,IAAA,MAAMC,UAAU,GAAG,IAAIR,UAAU,CAACC,KAAK,CAAC,CAAA;QAExCO,UAAU,CAACF,MAAM,GAAGA,MAAM,CAAA;QAC1BE,UAAU,CAACD,QAAQ,GAAGA,QAAQ,CAAA;IAC9BC,IAAAA,UAAU,CAACC,MAAM,GAAGF,QAAQ,CAACE,MAAM,CAAA;QACnCD,UAAU,CAACE,OAAO,GAAGJ,MAAM,CAAA;IAE3B,IAAA,OAAOE,UAAU,CAAA;IACrB,GAAA;IACJ,CAAA;IAEO,MAAMG,YAAY,SAASX,UAAU,CAAC;MACzCjF,WAAW,CAAC6F,OAAe,EAAE;QACzB,MAAMX,KAAK,GAAG,IAAI1E,KAAK,CAAE,CAA0BqF,wBAAAA,EAAAA,OAAQ,KAAI,CAAC,CAAA;QAEhE,KAAK,CAACX,KAAK,CAAC,CAAA;IAChB,GAAA;IACJ;;ICnBO,MAAMY,WAAW,CAA4B;MACxCC,oBAAoB,CAACC,QAAgB,EAA8B;QACvE,IAAIA,QAAQ,KAAK,OAAO,EAAE;IACtB,MAAA,OAAOC,KAAK,CAAA;IAChB,KAAA;IAEA,IAAA,OAAOC,IAAI,CAAA;IACf,GAAA;MAEQC,yBAAyB,CAACZ,MAA6B,EAAwB;IACnF,IAAA,OAAO,IAAIa,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpCD,MAAAA,OAAO,CAAC;IACJE,QAAAA,IAAI,EAAE,IAAI;IACVZ,QAAAA,OAAO,EAAE,IAAI;IACbH,QAAAA,QAAQ,EAAE,IAAA;IACd,OAAC,CAAC,CAAA;IACN,KAAC,CAAC,CAAA;IACN,GAAA;MAEA,MAAagB,IAAI,CAACjB,MAA6B,EAAwB;IACnE,IAAA,OAAO,IAAIa,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAAA,MAAA,IAAA,YAAA,CAAA;UACpC,MAAMG,KAAK,GAAG,IAAI,CAACV,oBAAoB,CAACR,MAAM,CAACmB,GAAG,CAACV,QAAQ,CAAC,CAAA;IAE5D,MAAA,IAAIT,MAAM,CAACmB,GAAG,CAACV,QAAQ,KAAK,MAAM,EAAE;IAChC,QAAA,OAAO,IAAI,CAACG,yBAAyB,CAACZ,MAAM,CAAC,CAAA;IACjD,OAAA;UAEA,IAAI,CAACA,MAAM,CAACoB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE;IACxCrB,QAAAA,MAAM,CAACoB,OAAO,CAACE,GAAG,CAAC;IAAE,UAAA,iBAAiB,EAAE,mBAAA;IAAoB,SAAC,CAAC,CAAA;IAClE,OAAA;IAEA,MAAA,IAAItB,MAAM,CAACmB,GAAG,CAACI,MAAM,IAAI,CAAC1F,QAAQ,CAACmE,MAAM,CAACmB,GAAG,CAACI,MAAM,CAAC,EAAE;IACnDvB,QAAAA,MAAM,CAACmB,GAAG,CAACI,MAAM,GAAGvB,MAAM,CAACmB,GAAG,CAACI,MAAM,CAACC,QAAQ,EAAE,CAAA;IACpD,OAAC,MAAM;IACHxB,QAAAA,MAAM,CAACmB,GAAG,CAACI,MAAM,GAAG,EAAE,CAAA;IAC1B,OAAA;UAEA,SAASE,OAAO,CAAC9B,KAAU,EAAQ;IAC/B,QAAA,MAAM+B,GAAG,GAAG,IAAIhC,UAAU,CAACC,KAAK,CAAC,CAAA;YACjC+B,GAAG,CAAC1B,MAAM,GAAGA,MAAM,CAAA;YACnB0B,GAAG,CAACtB,OAAO,GAAGA,OAAO,CAAA;YACrB,OAAOW,MAAM,CAACW,GAAG,CAAC,CAAA;IACtB,OAAA;IAEA,MAAA,MAAMrE,OAAuC,GAAG;YAC5CoD,QAAQ,EAAE7B,mBAAmB,CAAC,GAAG,EAAEoB,MAAM,CAACmB,GAAG,CAACV,QAAQ,CAAC;IACvDkB,QAAAA,IAAI,EAAE3B,MAAM,CAACmB,GAAG,CAACQ,IAAI;IACrBC,QAAAA,QAAQ,EAAE5B,MAAM,CAACmB,GAAG,CAACS,QAAQ;IAC7BC,QAAAA,IAAI,EAAE9C,cAAc,CAAC,EAAE,EAAEiB,MAAM,CAACmB,GAAG,CAACW,QAAQ,EAAE9B,MAAM,CAACmB,GAAG,CAACI,MAAM,CAAC;IAChEH,QAAAA,OAAO,EAAEpB,MAAM,CAACoB,OAAO,CAACW,GAAG,EAAE;YAC7BzB,OAAO,EAAEN,MAAM,CAACM,OAAAA;WACnB,CAAA;IAED,MAAA,IAAIN,MAAM,CAACmB,GAAG,CAACa,IAAI,EAAE;IACjB,QAAA,MAAMA,IAAI,GAAGC,QAAQ,CAACjC,MAAM,CAACmB,GAAG,CAACa,IAAI,CAACR,QAAQ,EAAE,CAAC,CAAA;IAEjD,QAAA,IAAI,CAACU,KAAK,CAACF,IAAI,CAAC,EAAE;cACd3E,OAAO,CAAC2E,IAAI,GAAGA,IAAI,CAAA;IACvB,SAAA;IACJ,OAAA;IAEA,MAAA,MAAM5B,OAAO,GAAGc,KAAK,CAACd,OAAO,CAAC/C,OAAO,CAAC,CAAA;IAEtC+C,MAAAA,OAAO,CAAC+B,EAAE,CAAC,UAAU,EAAGlC,QAAQ,IAAK;IACjC,QAAA,IAAIA,QAAQ,CAACmC,SAAS,IAAIhC,OAAO,CAACgC,SAAS,EAAE;IACzC,UAAA,OAAOX,OAAO,CAAC,IAAI/B,UAAU,CAAC,wBAAwB,CAAC,CAAC,CAAA;IAC5D,SAAA;IAEA,QAAA,IAAIM,MAAM,CAACqC,YAAY,KAAK,QAAQ,EAAE;IAClC,UAAA,OAAOvB,OAAO,CAAC;IACXE,YAAAA,IAAI,EAAEf,QAAQ;IACdG,YAAAA,OAAO,EAAEA,OAAO;IAChBH,YAAAA,QAAQ,EAAEA,QAAAA;IACd,WAAC,CAAC,CAAA;IACN,SAAA;YAEA,MAAMqC,MAAgB,GAAG,EAAE,CAAA;IAE3BrC,QAAAA,QAAQ,CAACkC,EAAE,CAAC,MAAM,EAAEG,MAAM,CAACC,IAAI,CAACC,IAAI,CAACF,MAAM,CAAC,CAAC,CAAA;IAE7CrC,QAAAA,QAAQ,CAACkC,EAAE,CAAC,OAAO,EAAEV,OAAO,CAAC,CAAA;IAE7BxB,QAAAA,QAAQ,CAACkC,EAAE,CAAC,OAAO,EAAE,MAAM;cACvB,IAAIlC,QAAQ,CAACwC,QAAQ,EAAE;IACnB,YAAA,OAAA;IACJ,WAAA;cAEAxC,QAAQ,CAACyC,OAAO,EAAE,CAAA;cAClBtC,OAAO,CAACsC,OAAO,EAAE,CAAA;IACjB,UAAA,OAAOjB,OAAO,CAAC,IAAI/B,UAAU,CAAC,iCAAiC,CAAC,CAAC,CAAA;IACrE,SAAC,CAAC,CAAA;IAEFO,QAAAA,QAAQ,CAACkC,EAAE,CAAC,KAAK,EAAE,MAAM;IACrB,UAAA,MAAMQ,IAAI,GAAGC,MAAM,CAAClF,MAAM,CAAC4E,MAAM,CAAC,CAAA;IAElCxB,UAAAA,OAAO,CAAC;IAAEE,YAAAA,IAAI,EAAE2B,IAAI;IAAEvC,YAAAA,OAAO,EAAEA,OAAO;IAAEH,YAAAA,QAAQ,EAAEA,QAAAA;IAAS,WAAC,CAAC,CAAA;IACjE,SAAC,CAAC,CAAA;IACN,OAAC,CAAC,CAAA;UAEF,IAAID,MAAM,CAACM,OAAO,EAAE;IAChBF,QAAAA,OAAO,CAACyC,UAAU,CAAC7C,MAAM,CAACM,OAAO,EAAE,MAAM;cACrCS,MAAM,CAAC,IAAIV,YAAY,CAACL,MAAM,CAACM,OAAO,CAAC,CAAC,CAAA;IAC5C,SAAC,CAAC,CAAA;IACN,OAAA;IAEAF,MAAAA,OAAO,CAAC+B,EAAE,CAAC,OAAO,EAAEV,OAAO,CAAC,CAAA;UAC5BrB,OAAO,CAAC0C,GAAG,CAAC9C,CAAAA,YAAAA,GAAAA,MAAM,CAACgB,IAAI,MAAA,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,GAAA,YAAA,GAAIlC,SAAS,CAAC,CAAA;IACzC,KAAC,CAAC,CAAA;IACN,GAAA;IACJ,CAAA;IAEA,MAAMiE,EAAE,GAAGnH,UAAU,CAACoH,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAJA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAI,CAAEC,gBAAgB,CAAC,GAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAACC,gBAAgB,CAAC,GAAG,IAAI,CAAA;IAC5F,MAAMG,IAAI,GAAGxH,UAAU,CAACoH,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAJA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAI,CAAEK,MAAM,CAAC,GAAGH,IAAI,CAACC,SAAS,CAACH,IAAI,CAACK,MAAM,CAAC,GAAG,IAAI,CAAA;IAC1E,MAAMC,OAAO,GAAG1H,UAAU,CAACoH,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAJA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAI,CAAEO,OAAO,CAAC,GAAGL,IAAI,CAACC,SAAS,CAACH,IAAI,CAACO,OAAO,CAAC,GAAG,IAAI,CAAA;IAC/E,MAAMC,QAAQ,GAAG5H,UAAU,CAACoH,IAAI,KAAJA,IAAAA,IAAAA,IAAI,KAAJA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAI,CAAES,WAAW,CAAC,GAAGP,IAAI,CAACC,SAAS,CAACH,IAAI,CAACS,WAAW,CAAC,GAAG,IAAI,CAAA;IAEjF,MAAMC,QAAQ,GAAG;MAAEX,EAAE;MAAEK,IAAI;MAAEE,OAAO;IAAEE,EAAAA,QAAAA;IAAS,CAAC;;ICpIhD,MAAMG,cAAc,CAA4B;MAC5C1C,IAAI,CAACjB,MAA6B,EAAwB;IAC7D,IAAA,OAAO,IAAIa,OAAO,CAAC,MAAM,EAAE,CAAC,CAAA;IAChC,GAAA;IACJ,CAAA;IAEwBxB,iBAAiB,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC;;ICLxE,MAAMuE,uBAAuB,GAAG;IACnC,EAAA,cAAc,EAAE,kBAAA;IACpB,CAAC,CAAA;IAEM,MAAMC,oBAAoB,GAAG1G,KAAK,CAACyG,uBAAuB,EAAE;IAC/D,EAAA,YAAY,EAAG,CAAA,qBAAA,EAAuBlI,aAAW,CAACZ,OAAO,CAACgJ,OAAQ,CAAA,EAAA,EAAIpI,aAAW,CAACZ,OAAO,CAACiJ,QAAS,CAAA,CAAA,CAAA;IACvG,CAAC,CAAC,CAAA;IAEK,MAAMC,qBAAqB,GAAG3E,iBAAiB,CAAe,CACjE,UAAU,EACV,UAAU,EACV,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,UAAU,EACV,UAAU,CACb,CAAC,CAAA;IAEK,MAAM4E,0BAAoD,GAAG;IAChE7D,EAAAA,OAAO,EAAE,EAAE;IACXH,EAAAA,QAAQ,EAAE,EAAA;IACd,CAAC,CAAA;IAEM,MAAMiE,sBAA6C,GAAG;IACzD/C,EAAAA,GAAG,EAAEhE,KAAK,CAAC6G,qBAAqB,EAAE;IAC9BvD,IAAAA,QAAQ,EAAE,MAAM;IAChB0D,IAAAA,QAAQ,EAAE,MAAA;IACd,GAAC,CAAC;IACF7D,EAAAA,OAAO,EAAE,CAAC;IACV8D,EAAAA,MAAM,EAAE,KAAK;IACbhD,EAAAA,OAAO,EAAE,IAAI;IACbJ,EAAAA,IAAI,EAAE,IAAI;MACVqD,KAAK,EAAE,EAAE;IACTC,EAAAA,SAAS,EAAEL,0BAA0B;IACrCM,EAAAA,gBAAgB,EAAEC,QAAQ;IAC1BnC,EAAAA,YAAY,EAAE,MAAM;IACpBoC,EAAAA,gBAAgB,EAAE,MAAA;IACtB,CAAC,CAAA;IAEM,MAAMC,sBAAsB,GAAGrF,iBAAiB,CAAgB,CACnE,QAAQ,EACR,YAAY,EACZ,SAAS,EACT,MAAM,EACN,QAAQ,EACR,SAAS,EACT,UAAU,EACV,UAAU,EACV,WAAW,EACX,WAAW,EACX,WAAW,EACX,cAAc,EACd,cAAc,CACjB,CAAC;;ICpDK,eAAesF,YAAY,CAAC3E,MAA6B,EAA4B;IACxF,EAAA,MAAM4E,SAAS,GAAGC,IAAI,CAACC,GAAG,EAAE,CAAA;IAC5B,EAAA,MAAMC,SAAS,GAAG,IAAIF,IAAI,EAAE,CAACG,WAAW,EAAE,CAAA;IAC1C,EAAA,MAAMC,cAAc,GAAGhI,KAAK,CAACyH,sBAAsB,CAAC,CAAA;MAEpD,IAAI,CAACnI,OAAO,CAACyD,MAAM,CAACsE,SAAS,CAAClE,OAAO,CAAC,EAAE;IACpC;IACA;IACA;IACA;;QAEA,KAAK,MAAM8E,QAAQ,IAAIlF,MAAM,CAACsE,SAAS,CAAClE,OAAO,EAAE;IAC7CJ,MAAAA,MAAM,GAAG,MAAMkF,QAAQ,CAACC,OAAO,CAACnF,MAAM,CAAC,CAAA;UAEvC,IAAIA,MAAM,KAAK,IAAI,EAAE;IACjB,QAAA,MAAM,IAAI/E,KAAK,CACX,4FAA4F,CAC/F,CAAA;IACL,OAAA;IACJ,KAAA;IACJ,GAAA;;IAEA;;IAEA,EAAA,OAAO,eAAemK,eAAe,CAACC,MAAM,EAA+B;QACvE,MAAMC,cAAc,GAAGD,MAAM,CAAA;;IAE7B;;IAEA,IAAA,IAAIpF,QAAQ,GAAG3C,SAAS,CAAC2H,cAAc,EAAE;UACrCjE,IAAI,EAAEsE,cAAc,CAACtE,IAAI;IACzBhB,MAAAA,MAAM,EAAEA,MAAM;UACdI,OAAO,EAAEkF,cAAc,CAAClF,OAAO;UAC/BH,QAAQ,EAAEqF,cAAc,CAACrF,QAAQ;IACjC8E,MAAAA,SAAS,EAAEA,SAAS;UACpB1C,YAAY,EAAErC,MAAM,CAACqC,YAAAA;IACzB,KAAC,CAAC,CAAA;QAEF,IAAIiD,cAAc,CAACrF,QAAQ,EAAE;IACzBA,MAAAA,QAAQ,CAACmB,OAAO,GAAGkE,cAAc,CAACrF,QAAQ,CAACmB,OAAO,CAAA;IAClDnB,MAAAA,QAAQ,CAACE,MAAM,GAAGmF,cAAc,CAACrF,QAAQ,CAACsF,UAAU,CAAA;IACpDtF,MAAAA,QAAQ,CAACuF,UAAU,GAAGF,cAAc,CAACrF,QAAQ,CAACwF,aAAa,CAAA;IAC/D,KAAA;QAEA,IAAI,CAAClJ,OAAO,CAACyD,MAAM,CAACsE,SAAS,CAACrE,QAAQ,CAAC,EAAE;UACrC,KAAK,MAAMiF,QAAQ,IAAIlF,MAAM,CAACsE,SAAS,CAACrE,QAAQ,EAAE;IAC9CA,QAAAA,QAAQ,GAAG,MAAMiF,QAAQ,CAACC,OAAO,CAAClF,QAAQ,CAAC,CAAA;IAC/C,OAAA;IACJ,KAAA;IAEA,IAAA,MAAMyF,OAAO,GAAGb,IAAI,CAACC,GAAG,EAAE,CAAA;IAC1B,IAAA,MAAMa,QAAQ,GAAGD,OAAO,GAAGd,SAAS,CAAA;QAEpC3E,QAAQ,CAAC0F,QAAQ,GAAGA,QAAQ,CAAA;IAC5B,IAAA,OAAO9E,OAAO,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAA;OACnC,CAAA;IACL;;IClDA;IACA;IACA;;IAEO,MAAM2F,UAAU,CAAC;IACpB;IACJ;IACA;;IAEI;IACJ;IACA;;IAGInL,EAAAA,WAAW,GAAG;IACV,IAAA,IAAI,CAACoL,QAAQ,CAACnK,aAAW,CAACL,OAAO,CAAC,CAAA;IAElC,IAAA,IAAI,CAACyK,MAAM,GAAG,IAAIC,UAAU,CAAC;IACzBC,MAAAA,SAAS,EAAE,KAAK;IAChBlK,MAAAA,KAAK,EAAE,KAAA;IACX,KAAC,CAAC,CAAA;IACN,GAAA;MAEQ+J,QAAQ,CAACxK,OAAqB,EAAE;QACpC,IAAIA,OAAO,KAAK,SAAS,EAAE;IACvB,MAAA,IAAI,CAAC4K,IAAI,GAAG,IAAItC,cAAc,EAAE,CAAA;IAChC,MAAA,OAAA;IACJ,KAAA;QAEA,IAAItI,OAAO,KAAK,MAAM,EAAE;IACpB,MAAA,IAAI,CAAC4K,IAAI,GAAG,IAAI1F,WAAW,EAAE,CAAA;IAC7B,MAAA,OAAA;IACJ,KAAA;IAEA,IAAA,MAAM,IAAItF,KAAK,CACV,CAAoEI,kEAAAA,EAAAA,OAAQ,GAAE,CAClF,CAAA;IACL,GAAA;MAEA,MAAgB6K,eAAe,CAAClG,MAA6B,EAAsB;QAC/E,IAAI;IACA,MAAA,MAAMmG,aAAa,GAAGlJ,KAAK,CAAC+C,MAAM,CAAC,CAAA;IACnC,MAAA,MAAMoF,eAAe,GAAG,MAAMT,YAAY,CAACwB,aAAa,CAAC,CAAA;UAEzD,MAAMC,cAAc,GAAGD,aAAa,CAAC9B,KAAK,IAAI8B,aAAa,CAAC9B,KAAK,CAACgC,OAAO,CAAA;;IAEzE;IACA;IACA;;IAEA,MAAA,MAAMhC,KAA6B,GAAG;IAClC1G,QAAAA,GAAG,EAAE,IAAI;IACT2I,QAAAA,GAAG,EAAE,KAAK;IACVC,QAAAA,MAAM,EAAE,KAAK;IACbC,QAAAA,MAAM,EAAE,KAAA;WACX,CAAA;IAED,MAAA,IAAIJ,cAAc,EAAE;IAChB,QAAA,MAAMK,QAAQ,GAAG,IAAI,CAACX,MAAM,CAACY,WAAW,CAACP,aAAa,CAAChF,GAAG,CAACQ,IAAI,CAAC,CAAA;YAChE,MAAMgF,MAAM,GAAG,IAAI,CAACb,MAAM,CAAC/D,GAAG,CAAC0E,QAAQ,EAAE,IAAI,CAAC,CAAA;YAE9CpC,KAAK,CAACiC,GAAG,GAAG,IAAI,CAAA;IAEhB,QAAA,IAAIK,MAAM,EAAE;IACR,UAAA,MAAMtB,MAAM,GAAG,MAAMD,eAAe,CAAC;gBAAEpE,IAAI,EAAE2F,MAAM,CAACC,CAAAA;IAAE,WAAC,CAAC,CAAA;cAExDvC,KAAK,CAAC1G,GAAG,GAAG8I,QAAQ,CAAA;cACpBpC,KAAK,CAACkC,MAAM,GAAG,IAAI,CAAA;cACnBlB,MAAM,CAAChB,KAAK,GAAGA,KAAK,CAAA;IAEpB,UAAA,OAAOxD,OAAO,CAACC,OAAO,CAACuE,MAAM,CAAC,CAAA;IAClC,SAAA;IACJ,OAAA;UAEA,MAAMpF,QAAQ,GAAG,MAAM,IAAI,CAACgG,IAAI,CAAChF,IAAI,CAACkF,aAAa,CAAC,CAAA;IACpD,MAAA,MAAMd,MAAM,GAAG,MAAMD,eAAe,CAACnF,QAAQ,CAAC,CAAA;IAE9C,MAAA,IAAImG,cAAc,EAAE;IAChB,QAAA,IAAI,CAACN,MAAM,CAACxE,GAAG,CAAC6E,aAAa,CAAChF,GAAG,CAACQ,IAAI,EAAE1B,QAAQ,CAACe,IAAI,CAAC,CAAA;IAEtDqD,QAAAA,KAAK,CAAC1G,GAAG,GAAG,IAAI,CAACmI,MAAM,CAACY,WAAW,CAACP,aAAa,CAAChF,GAAG,CAACQ,IAAI,CAAC,CAAA;YAC3D0C,KAAK,CAACmC,MAAM,GAAG,IAAI,CAAA;IACvB,OAAA;UAEAnB,MAAM,CAAChB,KAAK,GAAGA,KAAK,CAAA;IAEpB,MAAA,OAAOxD,OAAO,CAACC,OAAO,CAACuE,MAAM,CAAC,CAAA;SACjC,CAAC,OAAO1F,KAAU,EAAE;UACjB,OAAOkB,OAAO,CAACE,MAAM,CAAC,IAAIrB,UAAU,CAACC,KAAK,CAAC,CAAC,CAAA;IAChD,KAAA;IACJ,GAAA;IACJ;;ICvGO,SAAS7D,KAAK,CAAC+K,IAAe,EAAEjH,OAAe,EAAQ;IAC1DkH,EAAAA,OAAO,CAACD,IAAI,CAAC,CAAE,CAAUjH,QAAAA,EAAAA,OAAQ,EAAC,CAAC,CAAA;IACvC;;ICaA,SAASmH,cAAc,CAACpJ,GAAW,EAAU;IACzC,EAAA,IAAIA,GAAG,EAAE;QACL,OAAOqJ,eAAe,CAACrJ,GAAG,CAACsJ,WAAW,EAAE,CAAC,CAACC,IAAI,EAAE,CAAA;IACpD,GAAA;IAEA,EAAA,OAAOpI,SAAS,CAAA;IACpB,CAAA;IAEA,SAASqI,gBAAgB,CAAChL,KAAmB,EAAU;IACnD,EAAA,IAAIR,WAAW,CAACQ,KAAK,CAAC,IAAIA,KAAK,KAAK,KAAK,IAAIA,KAAK,KAAK,IAAI,EAAE;IACzD,IAAA,OAAO2C,SAAS,CAAA;IACpB,GAAA;IAEA,EAAA,IAAI1C,OAAO,CAACD,KAAK,CAAC,EAAE;IAChB,IAAA,OAAOA,KAAK,CAACiD,IAAI,CAAC,IAAI,CAAC,CAAA;IAC3B,GAAA;IAEA,EAAA,IAAI9C,QAAQ,CAACH,KAAK,CAAC,EAAE;IACjB,IAAA,OAAOiL,IAAI,CAACC,SAAS,CAAClL,KAAK,CAAC,CAAA;IAChC,GAAA;MAEA,OAAOS,MAAM,CAACT,KAAK,CAAC,CAAA;IACxB,CAAA;IAEA,SAASmL,gBAAgB,CAAClG,OAAgB,EAAqB;MAC3D,MAAMmG,UAA6B,GAAG,EAAE,CAAA;IAExC3J,EAAAA,OAAO,CAACwD,OAAO,EAAE,CAACzD,GAAG,EAAExB,KAAK,KAAK;QAC7B,IAAIR,WAAW,CAACgC,GAAG,CAAC,IAAIhC,WAAW,CAACQ,KAAK,CAAC,EAAE;IACxC,MAAA,OAAA;IACJ,KAAA;IAEA,IAAA,MAAMqL,aAAa,GAAGT,cAAc,CAACpJ,GAAG,CAAC,CAAA;IACzC,IAAA,MAAM8J,eAAe,GAAGN,gBAAgB,CAAChL,KAAK,CAAC,CAAA;QAE/C,IAAIqL,aAAa,IAAIC,eAAe,EAAE;IAClCF,MAAAA,UAAU,CAACC,aAAa,CAAC,GAAGC,eAAe,CAAA;IAC/C,KAAA;IACJ,GAAC,CAAC,CAAA;IAEF,EAAA,OAAOF,UAAU,CAAA;IACrB,CAAA;IAEA,SAASP,eAAe,CAACrJ,GAAW,EAAU;IAC1C,EAAA,OAAOA,GAAG,CAAC2B,KAAK,CAAC,GAAG,CAAC,CAACoI,GAAG,CAAC/K,UAAU,CAAC,CAACyC,IAAI,CAAC,GAAG,CAAC,CAAA;IACnD,CAAA;IAEO,MAAMuI,YAAY,CAAC;MAGtBlN,WAAW,CAAC2G,OAAiB,EAAgC;QAAA,IAA9BwG,YAAqB,uEAAG,IAAI,CAAA;IAAA,IAAAC,iBAAA,CAAA,IAAA,EAAA,UAAA,EAFnB,EAAE,CAAA,CAAA;IAGtC,IAAA,IAAID,YAAY,EAAE;UACd,IAAI,CAACtG,GAAG,CAAC,IAAI,CAACwG,QAAQ,EAAE,KAAK,CAAC,CAAA;IAClC,KAAA;QAEA,IAAIxL,QAAQ,CAAC8E,OAAO,CAAC,IAAI,CAAC7E,OAAO,CAAC6E,OAAO,CAAC,EAAE;IACxC,MAAA,IAAI,CAACE,GAAG,CAACF,OAAO,EAAEwG,YAAY,CAAC,CAAA;IACnC,KAAA;IACJ,GAAA;IAEA,EAAA,OAAOG,SAAS,GAAoE;QAAA,IAAnE3G,OAAgB,GAAG,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,EAAE,CAAA;QAAA,IAAEwG,YAAqB,uEAAG,IAAI,CAAA;IAChE,IAAA,OAAO,IAAID,YAAY,CAACvG,OAAO,EAAEwG,YAAY,CAAC,CAAA;IAClD,GAAA;IAEA,EAAA,IAAIE,QAAQ,GAAiE;IACzE,IAAA,OAAOpM,aAAW,CAACN,MAAM,GAAGyI,oBAAoB,GAAGD,uBAAuB,CAAA;IAC9E,GAAA;;IAEA;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACWtC,GAAG,CAACF,OAAiB,EAAuC;QAAA,IAArC4G,UAAmB,uEAAG,IAAI,CAAA;IACpD,IAAA,IAAI,CAAC1L,QAAQ,CAAC8E,OAAO,CAAC,EAAE;IACpBtF,MAAAA,KAAK,CAAC,OAAO,EAAG,qDAAoD,OAAOsF,OAAQ,EAAC,CAAC,CAAA;IACrF,MAAA,OAAOA,OAAO,CAAA;IAClB,KAAA;IAEA,IAAA,MAAM6G,iBAAiB,GAAG,IAAI,CAACC,SAAS,CAAC9G,OAAO,CAAC,CAAA;IACjD,IAAA,MAAM+G,MAAM,GAAGH,UAAU,GAAG7K,KAAK,CAAC,IAAI,CAACiL,QAAQ,EAAEH,iBAAiB,CAAC,GAAGA,iBAAiB,CAAA;IAEvF,IAAA,OAAQ,IAAI,CAACG,QAAQ,GAAGD,MAAM,CAAA;IAClC,GAAA;IACA;IACJ;IACA;IACWpG,EAAAA,GAAG,GAAsB;QAC5B,OAAO,IAAI,CAACqG,QAAQ,CAAA;IACxB,GAAA;;IAEA;IACJ;IACA;MACW/G,GAAG,CAAC1D,GAAW,EAAW;IAC7B,IAAA,OAAO5B,cAAc,CAAC,IAAI,CAACqM,QAAQ,EAAEzK,GAAG,CAAC,CAAA;IAC7C,GAAA;;IAEA;IACJ;IACA;MACW0K,MAAM,CAAC1K,GAAW,EAAQ;IAC7BC,IAAAA,OAAO,CAAC,IAAI,CAACwK,QAAQ,EAAGE,SAAS,IAAK;UAClC,IAAIA,SAAS,CAACrB,WAAW,EAAE,KAAKtJ,GAAG,CAACsJ,WAAW,EAAE,EAAE;IAC/C,QAAA,OAAO,IAAI,CAACmB,QAAQ,CAACE,SAAS,CAAC,CAAA;IACnC,OAAA;IACJ,KAAC,CAAC,CAAA;IACN,GAAA;IACA;IACJ;IACA;IACA;IACA;IACA;IACWC,EAAAA,KAAK,GAA+B;QAAA,IAA9BC,KAAc,uEAAG,KAAK,CAAA;IAC/B,IAAA,IAAI,CAACJ,QAAQ,GAAG,EAAE,CAAA;QAElB,IAAI,CAACI,KAAK,EAAE;UACR,IAAI,CAAClH,GAAG,CAAC,IAAI,CAACwG,QAAQ,EAAE,KAAK,CAAC,CAAA;IAClC,KAAA;IACJ,GAAA;;IAEA;IACJ;IACA;;MAEWI,SAAS,CAAC9G,OAAgB,EAAqB;QAClD,IAAI1C,qBAAqB,CAAC0C,OAAO,CAAC,IAAI,CAAC9E,QAAQ,CAAC8E,OAAO,CAAC,EAAE;IACtD,MAAA,OAAO,EAAE,CAAA;IACb,KAAA;QAEA,OAAOkG,gBAAgB,CAAClG,OAAO,CAAC,CAAA;IACpC,GAAA;IACJ;;ICxJO,MAAMqH,gBAAgB,CAAqB;MAG9ChO,WAAW,CAACiO,QAAW,EAAE;IAAA,IAAAb,iBAAA,CAAA,IAAA,EAAA,WAAA,EAFF,IAAI,CAAA,CAAA;QAGvB,IAAI,CAACc,SAAS,GAAGD,QAAQ,CAAA;IAC7B,GAAA;MAEOvD,OAAO,CAACnF,MAAqB,EAAiB;IACjD,IAAA,OAAO,IAAI,CAAC2I,SAAS,CAAC3I,MAAM,CAAC,CAAA;IACjC,GAAA;IACJ;;ICPO,MAAM4I,oBAAoB,GAAG,IAAIH,gBAAgB,CAAmBzI,MAAM,IAAK;IAClF,EAAA,OAAOa,OAAO,CAACC,OAAO,CAACd,MAAM,CAAC,CAAA;IAClC,CAAC,CAAC,CAAA;IAEK,MAAM6I,kBAAkB,GAAG,IAAIJ,gBAAgB,CAAmB,MAAOxI,QAAQ,IAAK;IACzF,EAAA,MAAMoC,YAAY,GAAGpC,QAAQ,CAACD,MAAM,CAACqC,YAAY,CAAA;IAEjD,EAAA,IAAIA,YAAY,KAAK,KAAK,IAAIA,YAAY,KAAK,QAAQ,EAAE;IACrD,IAAA,OAAOxB,OAAO,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAA;IACpC,GAAA;IAEA,EAAA,MAAM6I,QAAQ,GAAG7I,QAAQ,CAACmB,OAAO,CAAC,kBAAkB,CAAC,CAAA;IAErD,EAAA,IAAIwB,MAAM,CAACmG,QAAQ,CAAC9I,QAAQ,CAACe,IAAI,CAAC,IAAIf,QAAQ,CAACe,IAAI,CAACxE,MAAM,EAAE;IACxD,IAAA,IAAIsM,QAAQ,EAAE;IACV,MAAA,MAAME,OAAO,GAAGtF,QAAQ,CAACoF,QAAQ,CAAC,CAAA;IAElC,MAAA,IAAIE,OAAO,EAAE;YACT,MAAMC,YAAY,GAAG,MAAMD,OAAO,CAAC/I,QAAQ,CAACe,IAAI,CAAC,CAAA;IACjD,QAAA,MAAMuD,gBAAgB,GAAGtE,QAAQ,CAACD,MAAM,CAACuE,gBAAgB,CAAA;YAEzD,IAAIA,gBAAgB,GAAG,CAAC,CAAC,IAAIA,gBAAgB,KAAKC,QAAQ,EAAE;IACxD,UAAA,IAAIyE,YAAY,CAACzM,MAAM,GAAG+H,gBAAgB,EAAE;gBACxC,MAAM,IAAItJ,KAAK,CACV,CAAoBgO,kBAAAA,EAAAA,YAAY,CAACzM,MAAO,CAAA,iCAAA,EAAmC+H,gBAAiB,CAAA,CAAC,CACjG,CAAA;IACL,WAAA;IACJ,SAAA;YAEAtE,QAAQ,CAACe,IAAI,GAAGiI,YAAY,CAAA;IAChC,OAAA;IACJ,KAAA;IACJ,GAAC,MAAM;QACHhJ,QAAQ,CAACe,IAAI,GAAG,IAAI,CAAA;IACxB,GAAA;IAEA,EAAA,OAAOH,OAAO,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAA;IACpC,CAAC,CAAC,CAAA;IAEK,MAAMiJ,qBAAqB,GAAG,IAAIT,gBAAgB,CAAoBxI,QAAQ,IAAK;IACtF,EAAA,MAAMoC,YAAY,GAAGpC,QAAQ,CAACD,MAAM,CAACqC,YAAY,CAAA;MAEjD,IAAIA,YAAY,KAAK,KAAK,IAAIA,YAAY,KAAK,aAAa,IAAIA,YAAY,KAAK,QAAQ,EAAE;IACvF,IAAA,OAAOxB,OAAO,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAA;IACpC,GAAA;MAEA,IAAIA,QAAQ,CAACe,IAAI,EAAE;IACf;;QAEA,MAAM;UAAEyD,gBAAgB;IAAEpC,MAAAA,YAAAA;SAAc,GAAGpC,QAAQ,CAACD,MAAM,CAAA;QAE1D,MAAMmJ,YAAY,GAAGlJ,QAAQ,CAACe,IAAI,CAACQ,QAAQ,CAACiD,gBAAgB,CAAC,CAAA;QAE7D,IAAIpC,YAAY,KAAK,MAAM,EAAE;UACzBpC,QAAQ,CAACe,IAAI,GAAGoG,IAAI,CAACgC,KAAK,CAACD,YAAY,CAAC,CAAA;IAC5C,KAAC,MAAM;UACHlJ,QAAQ,CAACe,IAAI,GAAGmI,YAAY,CAAA;IAChC,KAAA;IACJ,GAAA;IAEA,EAAA,OAAOtI,OAAO,CAACC,OAAO,CAACb,QAAQ,CAAC,CAAA;IACpC,CAAC,CAAC;;ICjEF;IACA;;IAEA;IACO,MAAMoJ,eAAe,GAAG,oBAAoB,CAAA;IAO5C,MAAMC,wBAAwB,GAAG,cAAc,CAAA;IAC/C,MAAMC,yBAAyB,GAAG,cAAc,CAAA;IAEhD,MAAMC,OAAO,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC;;IC6BnF;IACA;IACA;IACO,SAASC,UAAU,CAACtI,GAAW,EAAW;MAC7C,IAAI;QACA,IAAIuI,GAAG,CAACvI,GAAG,CAAC,CAAA;IAEZ,IAAA,OAAO,IAAI,CAAA;OACd,CAAC,OAAOxB,KAAK,EAAE;IACZ,IAAA,OAAO,KAAK,CAAA;IAChB,GAAA;IACJ,CAAA;IAEO,SAASgK,2BAA2B,CAACC,KAAa,EAAuC;MAAA,IAArCzF,QAAgB,uEAAG,EAAE,CAAA;IAC5E,EAAA,MAAMhD,GAAG,GAAG,IAAIuI,GAAG,CAACE,KAAK,CAAC,CAAA;MAE1B,MAAMnJ,QAAQ,GAAGpC,cAAc,CAAC8C,GAAG,CAACV,QAAQ,EAAE,GAAG,EAAE,EAAE,CAAW,CAAA;IAChE,EAAA,MAAMuB,IAAI,GAAGb,GAAG,CAACa,IAAI,GAAGC,QAAQ,CAACd,GAAG,CAACa,IAAI,CAAC,GAAG,EAAE,CAAA;MAC/C,MAAM6H,QAAQ,GAAGxL,cAAc,CAAC8C,GAAG,CAAC0I,QAAQ,EAAE1F,QAAQ,EAAE,EAAE,CAAC,CAAA;MAE3D,OAAO;QACHxC,IAAI,EAAER,GAAG,CAACQ,IAAI;QACdmI,MAAM,EAAE3I,GAAG,CAAC2I,MAAM;IAClBrJ,IAAAA,QAAQ,EAAEA,QAAQ;QAClBmB,QAAQ,EAAET,GAAG,CAACS,QAAQ;IACtBI,IAAAA,IAAI,EAAEA,IAAI;IACVF,IAAAA,QAAQ,EAAE+H,QAAQ;QAClBtI,MAAM,EAAEJ,GAAG,CAAC7C,MAAM;IAClB6F,IAAAA,QAAQ,EAAEA,QAAAA;OACb,CAAA;IACL,CAAA;;IAEA;IACO,SAAS4F,2BAA2B,CAACH,KAA4B,EAAU;MAC9E,IAAII,QAAQ,GAAG,gEAAgE,CAAA;MAE/E,SAASC,iBAAiB,CAACC,IAAY,EAAU;IAC7C,IAAA,OAAO,IAAIC,MAAM,CAAE,CAAA,EAAEb,wBAAyB,CAAA,EAAEY,IAAK,CAAA,EAAEX,yBAA0B,CAAA,CAAC,EAAE,IAAI,CAAC,CAAA;IAC7F,GAAA;IAEA,EAAA,IAAI7K,qBAAqB,CAACkL,KAAK,CAAC,IAAIrN,OAAO,CAACqN,KAAK,CAAC,IAAI,CAACtN,QAAQ,CAACsN,KAAK,CAAC,EAAE;IACpE,IAAA,OAAO,EAAE,CAAA;IACb,GAAA;MAEA,IAAIA,KAAK,CAACrI,MAAM,EAAE;QACdqI,KAAK,CAACrI,MAAM,GAAG6I,eAAe,CAACR,KAAK,CAACrI,MAAM,CAAC,CAAA;IAChD,GAAA;IAEA3D,EAAAA,OAAO,CAACgM,KAAK,EAAE,CAACjM,GAAG,EAAExB,KAAK,KAAK;IAC3B,IAAA,MAAMkO,KAAK,GAAGJ,iBAAiB,CAACtM,GAAG,CAAC,CAAA;QAEpC,IAAIe,qBAAqB,CAACvC,KAAK,CAAC,IAAII,OAAO,CAACJ,KAAK,CAAC,EAAE;UAChD6N,QAAQ,GAAG3L,cAAc,CAAC2L,QAAQ,EAAEK,KAAK,EAAE,EAAE,CAAC,CAAA;IAClD,KAAC,MAAM;UACH,MAAMC,KAAK,GAAGvM,sBAAsB,CAACiM,QAAQ,EAAEK,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,CAAA;IAC5D,MAAA,MAAME,aAAa,GAAGlM,cAAc,CAACiM,KAAK,EAAE3M,GAAG,EAAExB,KAAK,CAACqF,QAAQ,EAAE,CAAC,CAC7DjD,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAClBA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAClBA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;UAEvByL,QAAQ,GAAG3L,cAAc,CAAC2L,QAAQ,EAAEM,KAAK,EAAEC,aAAa,CAAC,CAAA;IAC7D,KAAA;IACJ,GAAC,CAAC,CAAA;IAEF,EAAA,OAAOP,QAAQ,CAAA;IACnB,CAAA;IAEO,SAASQ,qBAAqB,CACjCC,SAAmB,EAEE;MAAA,IADrBC,cAAuB,uEAAG,IAAI,CAAA;IAE9B,EAAA,IAAI7O,QAAQ,CAAC4O,SAAS,CAAC,EAAE;IACrB,IAAA,IAAIhB,UAAU,CAACgB,SAAS,CAAC,EAAE;UACvB,OAAOd,2BAA2B,CAACc,SAAS,CAAC,CAAA;SAChD,MAAM,IAAIC,cAAc,EAAE;UACvB,OAAO;IACH5I,QAAAA,QAAQ,EAAEtD,kBAAkB,CAAC,GAAG,EAAEiM,SAAS,CAAA;WAC9C,CAAA;IACL,KAAC,MAAM;IACH,MAAA,MAAM,IAAIxP,KAAK,CACX,uIAAuI,CAC1I,CAAA;IACL,KAAA;IACJ,GAAC,MAAM,IAAIqB,QAAQ,CAACmO,SAAS,CAAC,EAAE;IAC5B,IAAA,MAAMhK,QAAQ,GAAG1C,sBAAsB,CAAC0M,SAAS,CAAChK,QAAQ,EAAE4I,eAAe,EAAE,CAAC,EAAE,MAAM,CAAC,CAAA;IACvF,IAAA,MAAMzH,QAAQ,GAAGvD,cAAc,CAC3BoM,SAAS,CAAC7I,QAAQ,EAClB,IAAIuI,MAAM,CAAE,CAAA,CAAA,EAAG1J,QAAS,CAAI,GAAA,CAAA,EAAE,IAAI,CAAC,EACnC,EAAE,CACL,CAAA;QAED,MAAMqB,QAAQ,GAAGtD,kBAAkB,CAAC,GAAG,EAAEiM,SAAS,CAAC3I,QAAQ,CAAC,CAAA;QAC5D,MAAMqC,QAAQ,GAAG3F,kBAAkB,CAAC,GAAG,EAAEiM,SAAS,CAACtG,QAAQ,CAAC,CAAA;IAE5D,IAAA,MAAMwG,kBAAkB,GAAGxN,KAAK,CAACsN,SAAS,EAAE;IACxChK,MAAAA,QAAQ,EAAEA,QAAQ;IAClBmB,MAAAA,QAAQ,EAAEA,QAAQ;IAClBE,MAAAA,QAAQ,EAAEA,QAAQ;IAClBqC,MAAAA,QAAQ,EAAEA,QAAAA;IACd,KAAC,CAAC,CAAA;IAEF,IAAA,MAAMyG,iBAAiB,GAAGb,2BAA2B,CAACY,kBAAkB,CAAC,CAAA;IACzE,IAAA,MAAME,YAAY,GAAGlB,2BAA2B,CAACiB,iBAAiB,EAAEzG,QAAQ,CAAC,CAAA;IAE7E,IAAA,OAAO0G,YAAY,CAAA;IACvB,GAAC,MAAM;IACH,IAAA,MAAM,IAAI5P,KAAK,CAAC,yEAAyE,CAAC,CAAA;IAC9F,GAAA;IACJ,CAAA;IAEO,SAASmP,eAAe,CAC3B7I,MAAoB,EAEW;MAAA,IAD/BuJ,cAAmC,uEAAG,QAAQ,CAAA;IAE9C,EAAA,IAAIpM,qBAAqB,CAAC6C,MAAM,CAAC,EAAE;IAC/B,IAAA,OAAO,IAAI,CAAA;IACf,GAAA;MAEA,IAAI;IACA,IAAA,MAAMwJ,YAAY,GAAG,IAAIC,eAAe,CAACzJ,MAAM,CAAC,CAAA;QAEhD,IAAIuJ,cAAc,KAAK,QAAQ,EAAE;UAC7B,MAAMvJ,MAAM,GAAG,EAAE,CAAA;IAEjBwJ,MAAAA,YAAY,CAACnN,OAAO,CAAC,CAACzB,KAAK,EAAEwB,GAAG,KAAK;IACjC4D,QAAAA,MAAM,CAAC5D,GAAG,CAAC,GAAGxB,KAAK,CAAA;IACvB,OAAC,CAAC,CAAA;IAEF,MAAA,OAAOoF,MAAM,CAAA;IACjB,KAAA;QAEA,OAAOwJ,YAAY,CAACvJ,QAAQ,EAAE,CAAA;OACjC,CAAC,OAAO7B,KAAK,EAAE;IACZ,IAAA,OAAO,IAAI,CAAA;IACf,GAAA;IACJ;;IC/JA,SAASsL,uBAAuB,GAAiB;IAC7C,EAAA,MAAMR,SAAS,GAAGtN,KAAK,CAAC6G,qBAAqB,EAAE;IAC3CvD,IAAAA,QAAQ,EAAE,OAAO;IACjB0D,IAAAA,QAAQ,EAAE,MAAA;IACd,GAAC,CAAC,CAAA;MAEF,IAAIzI,aAAW,CAACP,SAAS,EAAE;QACvB,MAAM;UAAEsF,QAAQ;UAAEmB,QAAQ;IAAEI,MAAAA,IAAAA;SAAM,GAAGpH,MAAM,CAACsQ,QAAQ,CAAA;IAEpDzO,IAAAA,MAAM,CAACS,MAAM,CAACuN,SAAS,EAAE;UACrBhK,QAAQ,EAAEA,QAAQ,CAAClC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;IACnCqD,MAAAA,QAAQ,EAAEA,QAAQ;IAClBI,MAAAA,IAAI,EAAEA,IAAAA;IACV,KAAC,CAAC,CAAA;IACN,GAAC,MAAM,IAAItG,aAAW,CAACN,MAAM,EAAE;IAC3BqB,IAAAA,MAAM,CAACS,MAAM,CAACuN,SAAS,EAAE;IACrBhK,MAAAA,QAAQ,EAAE,MAAM;IAChBmB,MAAAA,QAAQ,EAAE,WAAW;IACrBI,MAAAA,IAAI,EAAE,IAAA;IACV,KAAC,CAAC,CAAA;IACN,GAAA;IAEA,EAAA,OAAOyI,SAAS,CAAA;IACpB,CAAA;IAEO,MAAMU,aAAa,CAAC;MAGvB1Q,WAAW,CAACuF,MAAoB,EAAE;IAC9B,IAAA,MAAMyK,SAAS,GAAGD,qBAAqB,CAACS,uBAAuB,EAAE,CAAC,CAAA;IAElE,IAAA,IAAI,CAACG,OAAO,GAAGjO,KAAK,CAAC+G,sBAAsB,EAAE;IACzC/C,MAAAA,GAAG,EAAEsJ,SAAS;UACdrJ,OAAO,EAAE,IAAIuG,YAAY,EAAA;IAC7B,KAAC,CAAC,CAAA;QAEF,IAAIrL,QAAQ,CAAC0D,MAAM,CAAC,IAAI,CAACzD,OAAO,CAACyD,MAAM,CAAC,EAAE;UACtC,IAAI,CAACsB,GAAG,CAAC,IAAI,CAAC+J,yBAAyB,CAACrL,MAAM,EAAE,IAAI,CAAC,CAAC,CAAA;IAC1D,KAAA;QAEA,IAAI,CAACoL,OAAO,CAAC9G,SAAS,CAAClE,OAAO,CAACkL,OAAO,CAAC1C,oBAAoB,CAAC,CAAA;QAE5D,IAAIlN,aAAW,CAACN,MAAM,EAAE;IACpB,MAAA,IAAI,CAACgQ,OAAO,CAAC9G,SAAS,CAACrE,QAAQ,CAACqL,OAAO,CAACzC,kBAAkB,EAAEK,qBAAqB,CAAC,CAAA;IACtF,KAAA;IACJ,GAAA;IAEOqC,EAAAA,aAAa,GAA0B;QAC1C,OAAOpO,KAAK,CAAC+G,sBAAsB,EAAE;IACjC/C,MAAAA,GAAG,EAAEqJ,qBAAqB,CAACS,uBAAuB,EAAE,CAAC;UACrD7J,OAAO,EAAE,IAAIuG,YAAY,EAAA;IAC7B,KAAC,CAAC,CAAA;IACN,GAAA;IAEO0D,EAAAA,yBAAyB,CAC5BrL,MAAmB,EACnB0K,cAAuB,EACF;QACrB,MAAMc,MAAM,GAAG,IAAI,CAACC,mBAAmB,CAACzL,MAAM,EAAE0K,cAAc,CAAC,CAAA;IAC/D,IAAA,MAAMvC,MAAM,GAAG,IAAI,CAAChL,KAAK,CAACqO,MAAM,CAAC,CAAA;IAEjC,IAAA,OAAOrD,MAAM,CAAA;IACjB,GAAA;IAEOsD,EAAAA,mBAAmB,CACtBzL,MAAmB,EACnB0K,cAAuB,EACO;IAAA,IAAA,IAAA,qBAAA,EAAA,sBAAA,EAAA,qBAAA,EAAA,sBAAA,CAAA;QAC9B,IAAIhM,qBAAqB,CAACsB,MAAM,CAAC,IAAI,CAAC1D,QAAQ,CAAC0D,MAAM,CAAC,EAAE;IACpD,MAAA,MAAM,IAAI/E,KAAK,CAAC,4DAA4D,CAAC,CAAA;IACjF,KAAA;IAEA,IAAA,MAAMkL,aAAa,GAAGlJ,KAAK,CAAC+C,MAAM,CAAC,CAAA;IAEnC,IAAA,IAAIjE,cAAc,CAACoK,aAAa,EAAE,KAAK,CAAC,EAAE;IACtC,MAAA,MAAMuF,gBAAgB,GAAG,IAAI,CAAC3J,GAAG,EAAE,CAACZ,GAAG,CAAA;IAEvC,MAAA,IAAI7E,QAAQ,CAAC6J,aAAa,CAAChF,GAAG,CAAC,EAAE;IAC7B;IACA;YACAgF,aAAa,CAAChF,GAAG,GAAGhE,KAAK,CAACuO,gBAAgB,EAAEvF,aAAa,CAAChF,GAAG,CAAC,CAAA;IAClE,OAAA;IAEA,MAAA,IAAIuJ,cAAc,IAAIvE,aAAa,CAAChF,GAAG,CAACK,QAAQ,EAAE,CAAC7C,UAAU,CAAC,GAAG,CAAC,EAAE;IAChEwH,QAAAA,aAAa,CAAChF,GAAG,GAAGhE,KAAK,CAACuO,gBAAgB,EAAE;cACxC5J,QAAQ,EAAEqE,aAAa,CAAChF,GAAAA;IAC5B,SAAC,CAAC,CAAA;IACN,OAAA;UAEA,MAAMqK,MAAM,GAAGhB,qBAAqB,CAACrE,aAAa,CAAChF,GAAG,EAAEuJ,cAAc,CAAC,CAAA;UACvEvE,aAAa,CAAChF,GAAG,GAAGqK,MAAM,CAAA;IAC9B,KAAA;IAEA,IAAA,IAAIzP,cAAc,CAACoK,aAAa,EAAE,QAAQ,CAAC,EAAE;IACzC,MAAA,MAAM/B,MAAM,GAAGpH,SAAS,CAACmJ,aAAa,CAAC/B,MAAM,CAAC,CAAA;IAE9C,MAAA,IAAI,CAACoF,OAAO,CAACmC,QAAQ,CAACvH,MAAM,CAAC,EAAE;IAC3B,QAAA,MAAM,IAAInJ,KAAK,CAAE,CAAamJ,WAAAA,EAAAA,MAAO,8BAA6B,CAAC,CAAA;IACvE,OAAA;UAEA+B,aAAa,CAAC/B,MAAM,GAAGA,MAAM,CAAA;IACjC,KAAA;IAEA,IAAA,MAAM9D,OAAO,GAAG2B,QAAQ,oDACpBkE,aAAa,CAAC7F,OAAO,MAArB,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,sBAAA,CAAuBkB,QAAQ,EAAE,yEAAI0C,sBAAsB,CAAC5D,OAAO,CAACkB,QAAQ,EAAE,CACjF,CAAA;IAED,IAAA,IAAIU,KAAK,CAAC5B,OAAO,CAAC,EAAE;IAChB6F,MAAAA,aAAa,CAAC7F,OAAO,GAAG4D,sBAAsB,CAAC5D,OAAO,CAAA;IAC1D,KAAA;IAEA,IAAA,MAAMiE,gBAAgB,GAAGtC,QAAQ,oDAC7BkE,aAAa,CAAC5B,gBAAgB,MAA9B,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,sBAAA,CAAgC/C,QAAQ,EAAE,yEACtC0C,sBAAsB,CAACK,gBAAgB,CAAC/C,QAAQ,EAAE,CACzD,CAAA;IAED,IAAA,IAAIU,KAAK,CAACqC,gBAAgB,CAAC,EAAE;IACzB4B,MAAAA,aAAa,CAAC5B,gBAAgB,GAAGL,sBAAsB,CAACK,gBAAgB,CAAA;IAC5E,KAAA;QAEA,MAAMnD,OAAO,GAAGuG,YAAY,CAACI,SAAS,CAAC5B,aAAa,CAAC/E,OAAO,EAAE,IAAI,CAAC,CAAA;QACnE,OAAO+E,aAAa,CAAC/E,OAAO,CAAA;QAE5B,OAAOjE,KAAK,CAAcgJ,aAAa,EAAE;IACrC/E,MAAAA,OAAO,EAAEA,OAAAA;IACb,KAAC,CAAC,CAAA;IACN,GAAA;MAEOE,GAAG,CAACtB,MAA6B,EAAyB;QAC7D,IAAI,CAACoL,OAAO,GAAGpL,MAAM,CAAA;IACrB,IAAA,OAAOA,MAAM,CAAA;IACjB,GAAA;MAEO7C,KAAK,CACR6C,MAA+D,EAC1C;IAAA,IAAA,IAAA,mBAAA,EAAA,eAAA,CAAA;QACrB,IAAItB,qBAAqB,CAACsB,MAAM,CAAC,IAAI,CAAC1D,QAAQ,CAAC0D,MAAM,CAAC,EAAE;UACpD,OAAO,IAAI,CAAC+B,GAAG,EAAE,CAAA;IACrB,KAAA;IAEA,IAAA,MAAM6J,aAAa,GAAG,IAAI,CAAC7J,GAAG,EAAE,CAAA;QAChC,MAAM8J,eAAe,GAAG7L,CAAAA,mBAAAA,GAAAA,CAAAA,eAAAA,GAAAA,MAAM,CAACoB,OAAO,MAAd,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,eAAA,CAAgBW,GAAG,EAAE,MAAI,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,GAAA,mBAAA,GAAA,EAAE,CAAA;QAEnD,MAAM+J,aAAa,GAAG3O,KAAK,CAACyO,aAAa,CAACxK,OAAO,EAAEyK,eAAe,CAAC,CAAA;QAEnE,OAAO7L,MAAM,CAACoB,OAAO,CAAA;IAErB,IAAA,MAAM+G,MAAM,GAAG7K,SAAS,CAACsO,aAAa,EAAE5L,MAAM,CAAC,CAAA;IAC/C,IAAA,MAAM+L,aAAa,GAAGpE,YAAY,CAACI,SAAS,CAAC+D,aAAa,CAAC,CAAA;QAE3D,OAAO3O,KAAK,CAACgL,MAAM,EAAE;IAAE/G,MAAAA,OAAO,EAAE2K,aAAAA;IAAc,KAAC,CAAC,CAAA;IACpD,GAAA;IAEOhK,EAAAA,GAAG,GAA0B;QAChC,OAAO,IAAI,CAACqJ,OAAO,CAAA;IACvB,GAAA;;IAEA;IACJ;IACA;IACWY,EAAAA,KAAK,GAAG,EAAC;IACpB;;ICvHA,SAASC,kBAAkB,CAAC7H,MAAe,EAAE8H,GAAa,EAAElM,MAAmB,EAAe;IAC1F,EAAA,IAAItB,qBAAqB,CAACwN,GAAG,CAAC,EAAE;IAC5B,IAAA,MAAM,IAAIjR,KAAK,CACX,wHAAwH,CAC3H,CAAA;IACL,GAAA;MAEA,OAAOkC,KAAK,CAAC6C,MAAM,EAAE;IAAEmB,IAAAA,GAAG,EAAE+K,GAAG;IAAE9H,IAAAA,MAAM,EAAEA,MAAAA;IAAO,GAAC,CAAC,CAAA;IACtD,CAAA;IAEO,MAAM+H,WAAW,SAASvG,UAAU,CAAC;MAOxCnL,WAAW,CAACuF,MAAoB,EAAE;IAC9B,IAAA,KAAK,EAAE,CAAA;QAAC6H,iBANmC,CAAA,IAAA,EAAA,YAAA,EAAA;IAC3CzH,MAAAA,OAAO,EAAE,EAAE;IACXH,MAAAA,QAAQ,EAAE,EAAA;SACb,CAAA,CAAA;IAKG,IAAA,IAAI,CAACmL,OAAO,GAAG,IAAID,aAAa,CAACnL,MAAM,CAAC,CAAA;IAC5C,GAAA;;IAEA;IACJ;IACA;IACA;MACI,OAAOD,MAAM,CAACC,MAAoB,EAAe;IAC7C,IAAA,OAAO,IAAImM,WAAW,CAACnM,MAAM,CAAC,CAAA;IAClC,GAAA;;IAEA;IACJ;IACA;IACI,EAAA,IAAIA,MAAM,GAA0B;IAChC,IAAA,OAAO,IAAI,CAACoL,OAAO,CAACrJ,GAAG,EAAE,CAAA;IAC7B,GAAA;;IAEA;IACJ;IACA;IACI,EAAA,IAAIsC,KAAK,GAAe;QACpB,OAAO,IAAI,CAACyB,MAAM,CAAA;IACtB,GAAA;;IAEA;IACJ;IACA;IACA;IACA;IACA;MACWsG,SAAS,CAACpM,MAAmB,EAAQ;QACxC,MAAMmG,aAAa,GAAG,IAAI,CAACiF,OAAO,CAACC,yBAAyB,CAACrL,MAAM,EAAE,KAAK,CAAC,CAAA;IAC3E,IAAA,IAAI,CAACoL,OAAO,CAAC9J,GAAG,CAAC6E,aAAa,CAAC,CAAA;IAE/B,IAAA,IAAI5J,OAAO,CAAC4J,aAAa,CAAC9B,KAAK,CAAC,EAAE;UAC9B,IAAI,IAAI,CAACyB,MAAM,EAAE;IACb,QAAA,IAAI,CAACA,MAAM,CAACyC,KAAK,EAAE,CAAA;IAEnB,QAAA,IAAI,IAAI,CAACzC,MAAM,CAACuG,SAAS,EAAE;IACvB,UAAA,IAAI,CAACvG,MAAM,CAACwG,IAAI,EAAE,CAAA;IACtB,SAAA;IACJ,OAAA;IACJ,KAAC,MAAM;UACH,IAAI,CAACxG,MAAM,CAACsG,SAAS,CAACjG,aAAa,CAAC9B,KAAK,CAAC,CAAA;IAE1C,MAAA,IAAI,CAAC,IAAI,CAACyB,MAAM,CAACuG,SAAS,EAAE;IACxB,QAAA,IAAI,CAACvG,MAAM,CAACyG,KAAK,EAAE,CAAA;IACvB,OAAA;IACJ,KAAA;IACJ,GAAA;IAEOtL,EAAAA,IAAI,GAA+C;QAAA,IAA9CjB,MAAmB,GAAG,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,EAAE,CAAA;QAChC,MAAMmG,aAAa,GAAG,IAAI,CAACiF,OAAO,CAACK,mBAAmB,CAACzL,MAAM,EAAE,IAAI,CAAC,CAAA;QACpE,MAAMmI,MAAM,GAAG,IAAI,CAACiD,OAAO,CAACjO,KAAK,CAACgJ,aAAa,CAAC,CAAA;IAEhD,IAAA,OAAO,IAAI,CAACD,eAAe,CAACiC,MAAM,CAAC,CAAA;IACvC,GAAA;;IAEA;IACJ;IACA;IACWqE,EAAAA,cAAc,GAAS,EAAC;;IAE/B;IACJ;IACA;IACWC,EAAAA,aAAa,GAAS,EAAC;;IAE9B;IACJ;IACA;IACA;IACWC,EAAAA,SAAS,GAAG,EAAC;IAEbC,EAAAA,WAAW,GAAS,EAAC;IAChC,CAAA;IAEA/O,OAAO,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,CAACgP,CAAC,EAAEzQ,KAAmB,KAAK;MACtEgQ,WAAW,CAACU,SAAS,CAAC1Q,KAAK,CAAC,GAAG,UAAUgF,GAAa,EAAEnB,MAA2B,EAAE;IACjF,IAAA,OAAO,IAAI,CAACiB,IAAI,CAACgL,kBAAkB,CAACjP,SAAS,CAACb,KAAK,CAAC,EAAEgF,GAAG,EAAEnB,MAAM,CAAC,CAAC,CAAA;OACtE,CAAA;IACL,CAAC,CAAC,CAAA;IAEFpC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,EAAE,CAACgP,CAAC,EAAEzQ,KAAmB,KAAK;IAC1DgQ,EAAAA,WAAW,CAACU,SAAS,CAAC1Q,KAAK,CAAC,GAAG,UAC3BgF,GAAa,EACbH,IAAU,EACVhB,MAA2B,EAC7B;IACE,IAAA,SAAS8M,qBAAqB,GAAgB;IAC1C,MAAA,IAAInR,WAAW,CAACqF,IAAI,CAAC,EAAE;IACnB,QAAA,OAAOA,IAAI,CAAA;IACf,OAAA;IAEA,MAAA,IAAI1E,QAAQ,CAAC0D,MAAM,CAAC,EAAE;YAClB,OAAO7C,KAAK,CAAC6C,MAAM,EAAE;IAAEgB,UAAAA,IAAI,EAAEA,IAAAA;IAAK,SAAC,CAAC,CAAA;IACxC,OAAC,MAAM;YACH,OAAO;IAAEA,UAAAA,IAAAA;aAAM,CAAA;IACnB,OAAA;IACJ,KAAA;QAEA,MAAMmF,aAAa,GAAG2G,qBAAqB,EAAE,CAAA;IAE7C,IAAA,OAAO,IAAI,CAAC7L,IAAI,CAACgL,kBAAkB,CAACjP,SAAS,CAACb,KAAK,CAAC,EAAEgF,GAAG,EAAEgF,aAAa,CAAC,CAAC,CAAA;OAC7E,CAAA;IACL,CAAC,CAAC,CAAA;IAEK,SAAS4G,aAAa,CAACC,MAAe,EAAyB;MAClE,OAAOA,MAAM,YAAYb,WAAW,CAAA;IACxC;;ICjKA,SAASc,YAAY,GAAwB;IACzC,EAAA,MAAMD,MAAM,GAAGb,WAAW,CAACpM,MAAM,EAAE,CAAA;MACnC,MAAMmN,cAAc,GAAGF,MAA6B,CAAA;IAEpDE,EAAAA,cAAc,CAACC,aAAa,GAAGhB,WAAW,CAACpM,MAAM,CAAA;MACjDmN,cAAc,CAACxR,WAAW,GAAGA,aAAW,CAAA;MACxCwR,cAAc,CAACH,aAAa,GAAGA,aAAa,CAAA;MAC5CG,cAAc,CAACE,MAAM,GAAGjB,WAAW,CAAA;IAEnC,EAAA,OAAOe,cAAc,CAAA;IACzB,CAAA;AAEMG,UAAAA,KAAK,GAAGJ,YAAY;;IC1C1B;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;;IAQAI,KAAK,CAAC5E,gBAAgB,GAAGA,gBAAgB;;;;;;;;"}